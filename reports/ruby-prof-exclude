RUBYLIB=lib ruby-prof --exclude-common-cycles examples/complete_tree.rb -- 
/proc/loadavg 0.60 0.17 0.06 1/97 18851
#
# Print CompleteBinary-, Ternary-, and QuaternaryTree
#

[49, 61, 3, 18, 33, 64, 80, 31, 58, 10, 61, 83, 5, 11, 89, 83, 33, 51, 61, 32, 97, 51, 38, 68, 94, 17, 83, 23, 82, 97]
#<CompSci::CompleteBinaryTree:0x00559c3b32fcf8 @array=[49, 61, 3, 18, 33, 64, 80, 31, 58, 10, 61, 83, 5, 11, 89, 83, 33, 51, 61, 32, 97, 51, 38, 68, 94, 17, 83, 23, 82, 97], @child_slots=2>
                                       49                                       
                   61                                       3                   
         18                  33                  64                  80         
    31        58        10        61        83         5        11        89    
  83   33   51   61   32   97   51   38   68   94   17   83   23   82   97 



push: [38, 90, 65, 12, 85, 5, 45, 47, 73, 92, 23, 16, 62, 94, 51, 78, 50, 66, 18, 41, 74, 50, 1, 6, 25, 79, 0, 1, 81, 84]
                                       49                                       
                   61                                       3                   
         18                  33                  64                  80         
    31        58        10        61        83         5        11        89    
  83   33   51   61   32   97   51   38   68   94   17   83   23   82   97   38 
90 65 12 85 5 45 47 73 92 23 16 62 94 51 78 50 66 18 41 74 50 1 6 25 79 0 1 81 84 



[49, 61, 3, 18, 33, 64, 80, 31, 58, 10, 61, 83, 5, 11, 89, 83, 33, 51, 61, 32, 97, 51, 38, 68, 94, 17, 83, 23, 82, 97]
#<CompSci::CompleteTernaryTree:0x00559c3b2e4118 @array=[49, 61, 3, 18, 33, 64, 80, 31, 58, 10, 61, 83, 5, 11, 89, 83, 33, 51, 61, 32, 97, 51, 38, 68, 94, 17, 83, 23, 82, 97], @child_slots=3>
                                       49                                       
            61                         3                        18            
   33      64      80      31      58      10      61      83       5   
11 89 83 33 51 61 32 97 51 38 68 94 17 83 23 82 97 



push: [26, 3, 52, 5, 27, 34, 4, 84, 19, 22, 51, 51, 26, 94, 50, 93, 91, 34, 24, 52, 85, 21, 55, 64, 30, 77, 39, 75, 0, 75]
                                       49                                       
            61                         3                        18            
   33      64      80      31      58      10      61      83       5   
11 89 83 33 51 61 32 97 51 38 68 94 17 83 23 82 97 26 3 52 5 27 34 4 84 19 22 
51 51 26 94 50 93 91 34 24 52 85 21 55 64 30 77 39 75 0 75 



[49, 61, 3, 18, 33, 64, 80, 31, 58, 10, 61, 83, 5, 11, 89, 83, 33, 51, 61, 32, 97, 51, 38, 68, 94, 17, 83, 23, 82, 97]
#<CompSci::CompleteQuaternaryTree:0x00559c3b26e058 @array=[49, 61, 3, 18, 33, 64, 80, 31, 58, 10, 61, 83, 5, 11, 89, 83, 33, 51, 61, 32, 97, 51, 38, 68, 94, 17, 83, 23, 82, 97], @child_slots=4>
                                       49                                       
         61                   3                  18                  33         
  64   80   31   58   10   61   83   5    11   89   83   33   51   61   32   97 
51 38 68 94 17 83 23 82 97 



push: [80, 57, 88, 83, 14, 36, 9, 19, 1, 86, 89, 41, 51, 75, 10, 35, 77, 11, 14, 89, 64, 66, 49, 72, 31, 47, 14, 21, 37, 4]
                                       49                                       
         61                   3                  18                  33         
  64   80   31   58   10   61   83   5    11   89   83   33   51   61   32   97 
51 38 68 94 17 83 23 82 97 80 57 88 83 14 36 9 19 1 86 89 41 51 75 10 35 77 11 14 89 64 66 49 72 31 47 14 21 37 4 



Measure Mode: wall_time
Thread ID: 47064746810380
Fiber ID: 47064746744780
Total: 0.008933
Sort by: self_time

 %self      total      self      wait     child     calls  name
 19.03      0.003     0.002     0.000     0.002      270   Kernel#loop
 14.87      0.007     0.001     0.000     0.005        6   CompSci::CompleteNaryTree#display
  8.73      0.001     0.001     0.000     0.001     1077   <Class::CompSci::CompleteNaryTree>#parent_idx
  4.12      0.000     0.000     0.000     0.000     1617   Integer#/
  3.57      0.000     0.000     0.000     0.000     1347   Integer#+
  3.46      0.000     0.000     0.000     0.000     1077   Integer#<
  3.12      0.000     0.000     0.000     0.000     1077   Integer#-
  2.76      0.000     0.000     0.000     0.000      543   Integer#to_s
  2.70      0.004     0.000     0.000     0.003      270   <Class::CompSci::CompleteNaryTree>#gen
  2.49      0.000     0.000     0.000     0.000      292   String#+
  2.04      0.000     0.000     0.000     0.000      270   String#ljust
  1.98      0.000     0.000     0.000     0.000      270   BasicObject#!=
  1.86      0.009     0.000     0.000     0.009        2   Global#[No method]
  1.72      0.000     0.000     0.000     0.000      270   String#rjust
  1.63      0.000     0.000     0.000     0.000      180   Array#shift
  1.62      0.000     0.000     0.000     0.000      540   String#size
  1.27      0.000     0.000     0.000     0.000        9   Array#inspect
  1.16      0.000     0.000     0.000     0.000      180   CompSci::CompleteNaryTree#push
  1.08      0.000     0.000     0.000     0.000      270   Integer#**
  0.94      0.000     0.000     0.000     0.000      270   Array#max
  0.87      0.000     0.000     0.000     0.000        6   Kernel#p
  0.81      0.000     0.000     0.000     0.000      270   Kernel#class
  0.57      0.000     0.000     0.000     0.000        4   Array#initialize
  0.54      0.000     0.000     0.000     0.000      180   Array#push
  0.53      0.000     0.000     0.000     0.000      270   Integer#==
  0.47      0.000     0.000     0.000     0.000      120   Kernel#rand
  0.41      0.000     0.000     0.000     0.000      186   Array#empty?
  0.32      0.000     0.000     0.000     0.000        6   IO#set_encoding
  0.30      0.000     0.000     0.000     0.000        6   <Class::Thread>#current
  0.30      0.000     0.000     0.000     0.000        3   Kernel#inspect
  0.29      0.000     0.000     0.000     0.000       37   IO#write
  0.20      0.000     0.000     0.000     0.000       28   IO#puts
  0.18      0.000     0.000     0.000     0.000       28   Kernel#puts
  0.15      0.000     0.000     0.000     0.000        2   <Module::Gem>#find_unresolved_default_spec
  0.14      0.001     0.000     0.000     0.001        4  *Kernel#require
  0.10      0.000     0.000     0.000     0.000        7   Class#new
  0.09      0.000     0.000     0.000     0.000        2   MonitorMixin#mon_enter
  0.07      0.000     0.000     0.000     0.000        1   Module#attr_reader
  0.07      0.000     0.000     0.000     0.000        7   BasicObject#singleton_method_added
  0.07      0.000     0.000     0.000     0.000        2   MonitorMixin#mon_exit
  0.06      0.000     0.000     0.000     0.000       13   Module#method_added
  0.06      0.000     0.000     0.000     0.000        3   CompSci::CompleteNaryTree#initialize
  0.05      0.000     0.000     0.000     0.000        2   <Module::Gem>#suffixes
  0.05      0.000     0.000     0.000     0.000        1   CompSci::CompleteTernaryTree#initialize
  0.05      0.000     0.000     0.000     0.000        1   CompSci::CompleteBinaryTree#initialize
  0.03      0.000     0.000     0.000     0.000        4   Class#inherited
  0.03      0.000     0.000     0.000     0.000        3   Kernel#initialize_dup
  0.03      0.000     0.000     0.000     0.000        3   Kernel#dup
  0.03      0.000     0.000     0.000     0.000        3   Array#initialize_copy
  0.02      0.000     0.000     0.000     0.000        1   <Object::Object>#include
  0.02      0.000     0.000     0.000     0.000        2   Thread::Mutex#unlock
  0.02      0.000     0.000     0.000     0.000        2   Kernel#respond_to?
  0.02      0.000     0.000     0.000     0.000        1   CompSci::CompleteQuaternaryTree#initialize
  0.02      0.000     0.000     0.000     0.000        1   Module#append_features
  0.02      0.000     0.000     0.000     0.000        2   MonitorMixin#mon_check_owner
  0.02      0.000     0.000     0.000     0.000        2   <Class::Gem::Specification>#unresolved_deps
  0.01      0.000     0.000     0.000     0.000        1   Module#included
  0.01      0.000     0.000     0.000     0.000        1   Module#alias_method
  0.01      0.000     0.000     0.000     0.000        2   Thread::Mutex#lock

* indicates recursively called methods
RUBYLIB=lib ruby-prof --exclude-common-cycles examples/heap.rb -- 
RUBYLIB=lib ruby-prof --exclude-common-cycles examples/heap_push.rb -- 
#
# 3 seconds worth of pushes
#

10000th push: 0.00005398 s
20000th push: 0.00003194 s
30000th push: 0.00001722 s
40000th push: 0.00007907 s
50000th push: 0.00005334 s
60000th push: 0.00002110 s
70000th push: 0.00002813 s
80000th push: 0.00001835 s
90000th push: 0.00002794 s
100000th push: 0.00002661 s
-------------
    100k push: 2.95768746 s (33k push / s)

pushed 101466 items in 3.0 s

still a heap with 101467 items? YES - 1.486 sec

Measure Mode: wall_time
Thread ID: 47016571304980
Fiber ID: 47016571240620
Total: 4.487587
Sort by: self_time

 %self      total      self      wait     child     calls  name
 10.46      1.004     0.469     0.000     0.534   332942   CompSci::Heap#heapish?
  6.81      1.944     0.306     0.000     1.638   231486  *CompSci::Heap#sift_up
  5.44      3.000     0.244     0.000     2.756        1   Kernel#loop
  5.29      0.237     0.237     0.000     0.000  1027389   Array#[]
  4.48      0.348     0.201     0.000     0.147   101467   Array#initialize
  4.01      0.288     0.180     0.000     0.108   231476   <Class::CompSci::CompleteNaryTree>#parent_idx
  3.35      0.224     0.150     0.000     0.073   332942   BasicObject#!=
  3.27      2.175     0.147     0.000     2.028   101467   CompSci::Heap#push
  3.17      0.243     0.142     0.000     0.101   101467   Object#number
  3.12      0.140     0.140     0.000     0.000   535876   Integer#*
  2.73      0.123     0.123     0.000     0.000   535885   Integer#==
  2.53      0.113     0.113     0.000     0.000   507334   Integer#+
  1.97      0.225     0.088     0.000     0.137   101479   <Module::CompSci::Timer>#since
  1.94      0.087     0.087     0.000     0.000   332943   Kernel#class
  1.80      0.081     0.081     0.000     0.000   332944   Integer#-
  1.74      0.078     0.078     0.000     0.000   304410   Integer#%
  1.72      0.077     0.077     0.000     0.000   332942   Integer#<=>
  1.71      0.077     0.077     0.000     0.000   304402   Array#length
  1.46      0.109     0.066     0.000     0.044   101493   <Module::CompSci::Timer>#now
  1.46      0.473     0.065     0.000     0.407   101467   <Class::CompSci::CompleteNaryTree>#children_idx
  1.42      0.064     0.064     0.000     0.000   260038   Array#[]=
  1.33      0.407     0.059     0.000     0.348   101468   Class#new
  1.29      0.058     0.058     0.000     0.000   231476   BasicObject#!
  1.21      0.054     0.054     0.000     0.000   231486   Integer#<=
  1.21      0.054     0.054     0.000     0.000   231476   Integer#/
  1.17      0.053     0.053     0.000     0.000   202934   Integer#<
  0.98      0.044     0.044     0.000     0.000   101493   <Module::Process>#clock_gettime
  0.79      0.036     0.036     0.000     0.000   101466   Float#>
  0.67      0.030     0.030     0.000     0.000   101569   Array#push
  0.63      0.028     0.028     0.000     0.000   101466   Array#<<
  0.61      0.027     0.027     0.000     0.000   101479   Float#-
  0.01      0.000     0.000     0.000     0.000      102   Kernel#rand
  0.00      0.000     0.000     0.000     0.000       13   String#%
  0.00      0.000     0.000     0.000     0.000        3   <Module::Gem>#suffixes
  0.00      0.000     0.000     0.000     0.000      103   Array#shift
  0.00      0.000     0.000     0.000     0.000       33   IO#write
  0.00      0.000     0.000     0.000     0.000       18   IO#puts
  0.00      4.488     0.000     0.000     4.488        2   Global#[No method]
  0.00      1.486     0.000     0.000     1.486       11   <Module::CompSci::Timer>#elapsed
  0.00      0.000     0.000     0.000     0.000        1   Enumerable#to_a
  0.00      0.000     0.000     0.000     0.000        8   IO#set_encoding
  0.00      0.000     0.000     0.000     0.000        1   Array#shuffle
  0.00      0.000     0.000     0.000     0.000        3   <Module::Gem>#find_unresolved_default_spec
  0.00      0.000     0.000     0.000     0.000       18   Kernel#puts
  0.00      1.486     0.000     0.000     1.486   101467  *CompSci::Heap#heap?
  0.00      0.001     0.000     0.000     0.001        6  *Kernel#require
  0.00      0.000     0.000     0.000     0.000        1   CompSci::CompleteNaryTree#size
  0.00      0.000     0.000     0.000     0.000       23   Module#method_added
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_enter
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_exit
  0.00      0.000     0.000     0.000     0.000        9   <Class::Thread>#current
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_check_owner
  0.00      0.000     0.000     0.000     0.000        1   Module#attr_reader
  0.00      0.000     0.000     0.000     0.000        1   CompSci::Heap#initialize
  0.00      0.000     0.000     0.000     0.000        3   <Class::Gem::Specification>#unresolved_deps
  0.00      0.000     0.000     0.000     0.000        3   Thread::Mutex#lock
  0.00      0.000     0.000     0.000     0.000        1   Kernel#print
  0.00      0.000     0.000     0.000     0.000        7   BasicObject#singleton_method_added
  0.00      0.000     0.000     0.000     0.000        1   Module#append_features
  0.00      0.000     0.000     0.000     0.000        5   Class#inherited
  0.00      0.000     0.000     0.000     0.000        3   Thread::Mutex#unlock
  0.00      0.000     0.000     0.000     0.000        1   Integer#to_s
  0.00      0.000     0.000     0.000     0.000        1   Float#/
  0.00      0.000     0.000     0.000     0.000        1   CompSci::CompleteNaryTree#initialize
  0.00      0.000     0.000     0.000     0.000        1   Integer#to_f
  0.00      0.000     0.000     0.000     0.000        3   Kernel#respond_to?
  0.00      0.000     0.000     0.000     0.000        1   Module#included
  0.00      0.000     0.000     0.000     0.000        1   Module#alias_method
  0.00      0.000     0.000     0.000     0.000        1   String#to_i
  0.00      0.000     0.000     0.000     0.000        1   <Object::Object>#include

* indicates recursively called methods
RUBYLIB=lib ruby-prof --exclude-common-cycles examples/tree.rb -- 
#
# Try out Binary-, Ternary-, and QuaternaryTree
#

[49, 58, 26, 60, 86, 51, 33, 94, 52, 24, 84, 84, 6, 0, 88, 70, 87, 11, 60, 56, 9, 87, 55, 59, 93, 9, 56, 71, 23, 70]
#<CompSci::PushTree:0x005561541dbba8 @root=#<CompSci::ChildFlexNode:0x2ab0aa0ede38i @value=49 @children=[58, 26]>, @child_slots=2, @open_parent=#<CompSci::ChildFlexNode:0x2ab0aa0ed794i @value=88 @children=[70]>>
                                       49                                       
                   58                                      26                   
         60                  86                  51                  33         
    94        52        24        84        84         6         0        88    
  70   87   11   60   56   9    87   55   59   93   9    56   71   23   70   _  

df_search visited: 49 58 60 94 70 87 52 11 60 86 24 56 9 84 87 55 26 51 84 59 93 6 9 56 33 0 71 23 88 70


push: [96, 55, 37, 51, 88, 64, 2, 15, 27, 29, 21, 25, 33, 98, 65, 70, 54, 24, 70, 54, 24, 1, 75, 56, 10, 20, 2, 91, 22, 24]

                                       49                                       
                   58                                      26                   
         60                  86                  51                  33         
    94        52        24        84        84         6         0        88    
  70   87   11   60   56   9    87   55   59   93   9    56   71   23   70   96 
55 37 51 88 64 2 15 27 29 21 25 33 98 65 70 54 24 70 54 24 1 75 56 10 20 2 91 22 24 _ _ _ 


[49, 58, 26, 60, 86, 51, 33, 94, 52, 24, 84, 84, 6, 0, 88, 70, 87, 11, 60, 56, 9, 87, 55, 59, 93, 9, 56, 71, 23, 70]
#<CompSci::PushTree:0x0055615419df60 @root=#<CompSci::ChildFlexNode:0x2ab0aa0cf050i @value=49 @children=[58, 26, 60]>, @child_slots=3, @open_parent=#<CompSci::ChildFlexNode:0x2ab0aa0ce830i @value=24 @children=[23, 70]>>
                                       49                                       
            58                        26                        60            
   86      51      33      94      52      24      84      84       6   
0 88 70 87 11 60 56 9 87 55 59 93 9 56 71 23 70 _ _ _ _ _ _ _ _ _ _ 

df_search visited: 49 58 86 0 88 70 51 87 11 60 33 56 9 87 26 94 55 59 93 52 9 56 71 24 23 70 60 84 84 6


push: [23, 40, 91, 22, 49, 87, 14, 12, 65, 66, 51, 75, 42, 60, 48, 52, 23, 7, 15, 23, 21, 58, 14, 34, 3, 93, 71, 64, 25, 91]

                                       49                                       
            58                        26                        60            
   86      51      33      94      52      24      84      84       6   
0 88 70 87 11 60 56 9 87 55 59 93 9 56 71 23 70 23 40 91 22 49 87 14 12 65 66 
51 75 42 60 48 52 23 7 15 23 21 58 14 34 3 93 71 64 25 91 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 


[49, 58, 26, 60, 86, 51, 33, 94, 52, 24, 84, 84, 6, 0, 88, 70, 87, 11, 60, 56, 9, 87, 55, 59, 93, 9, 56, 71, 23, 70]
#<CompSci::PushTree:0x00556153fcdf50 @root=#<CompSci::ChildFlexNode:0x2ab0a9fe7020i @value=49 @children=[58, 26, 60, 86]>, @child_slots=4, @open_parent=#<CompSci::ChildFlexNode:0x2ab0a9fe69b8i @value=94 @children=[70]>>
                                       49                                       
         58                  26                  60                  86         
  51   33   94   52   24   84   84   6    0    88   70   87   11   60   56   9  
87 55 59 93 9 56 71 23 70 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

df_search visited: 49 58 51 87 55 59 93 33 9 56 71 23 94 70 52 26 24 84 84 6 60 0 88 70 87 86 11 60 56 9


push: [57, 28, 73, 66, 8, 39, 25, 77, 41, 69, 9, 31, 92, 16, 56, 82, 93, 47, 82, 10, 50, 65, 56, 89, 22, 29, 70, 42, 96, 87]

                                       49                                       
         58                  26                  60                  86         
  51   33   94   52   24   84   84   6    0    88   70   87   11   60   56   9  
87 55 59 93 9 56 71 23 70 57 28 73 66 8 39 25 77 41 69 9 31 92 16 56 82 93 47 82 10 50 65 56 89 22 29 70 42 96 87 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 


Measure Mode: wall_time
Thread ID: 46938254646300
Fiber ID: 46938254580340
Total: 0.013533
Sort by: self_time

 %self      total      self      wait     child     calls  name
  9.43      0.003     0.001     0.000     0.002       28   <Class::CompSci::NaryTree>#display_level
  5.28      0.001     0.001     0.000     0.000      423   Array#initialize
  5.05      0.002     0.001     0.000     0.001       26   CompSci::Tree#bf_search
  4.62      0.001     0.001     0.000     0.001       28   Array#any?
  4.42      0.002     0.001     0.000     0.001      606   Class#new
  4.24      0.001     0.001     0.000     0.000      671   CompSci::PushTree#open_parent?
  3.56      0.000     0.000     0.000     0.000      742   Array#+
  3.13      0.006     0.000     0.000     0.006        6   CompSci::NaryTree#display
  2.36      0.000     0.000     0.000     0.000     1303   BasicObject#!
  2.06      0.000     0.000     0.000     0.000      850   String#size
  1.98      0.000     0.000     0.000     0.000      379   CompSci::Node#to_s
  1.96      0.003     0.000     0.000     0.002      177   CompSci::PushTree#open_parent
  1.89      0.000     0.000     0.000     0.000      177   CompSci::ChildFlexNode#add_child
  1.88      0.000     0.000     0.000     0.000      932   NilClass#nil?
  1.84      0.000     0.000     0.000     0.000      562   Integer#to_s
  1.75      0.000     0.000     0.000     0.000      532   Array#empty?
  1.72      0.000     0.000     0.000     0.000      425   String#ljust
  1.64      0.001     0.000     0.000     0.001      177   CompSci::ChildFlexNode#new_child
  1.59      0.014     0.000     0.000     0.013        2   Global#[No method]
  1.51      0.000     0.000     0.000     0.000      850   Integer#+
  1.50      0.000     0.000     0.000     0.000      180   CompSci::ChildNode#initialize
  1.46      0.000     0.000     0.000     0.000      453   Array#max
  1.39      0.004     0.000     0.000     0.004      177   CompSci::PushTree#push
  1.38      0.000     0.000     0.000     0.000      180   CompSci::Node#initialize
  1.37      0.000     0.000     0.000     0.000      792   Array#[]
  1.35      0.000     0.000     0.000     0.000      425   String#rjust
  1.25      0.000     0.000     0.000     0.000      699   Array#length
  1.21      0.000     0.000     0.000     0.000      671   Integer#<
  1.11      0.000     0.000     0.000     0.000      529   Array#shift
  1.08      0.000     0.000     0.000     0.000      453   Integer#/
  1.04      0.000     0.000     0.000     0.000       62   Enumerable#find
  0.97      0.000     0.000     0.000     0.000       43   Array#join
  0.76      0.000     0.000     0.000     0.000      289   Array#<<
  0.70      0.000     0.000     0.000     0.000        6   Kernel#p
  0.65      0.000     0.000     0.000     0.000      177   BasicObject#!=
  0.63      0.000     0.000     0.000     0.000       62   CompSci::PushTree#open_sibling
  0.48      0.000     0.000     0.000     0.000        6   Array#inspect
  0.40      0.000     0.000     0.000     0.000      180   Kernel#is_a?
  0.37      0.000     0.000     0.000     0.000      211   Kernel#class
  0.29      0.000     0.000     0.000     0.000      120   Kernel#rand
  0.28      0.000     0.000     0.000     0.000        3   Kernel#inspect
  0.26      0.000     0.000     0.000     0.000        9   String#%
  0.25      0.000     0.000     0.000     0.000       43   IO#write
  0.24      0.000     0.000     0.000     0.000        8   IO#set_encoding
  0.24      0.000     0.000     0.000     0.000      177   BasicObject#==
  0.23      0.000     0.000     0.000     0.000       62   CompSci::ChildNode#siblings
  0.20      0.000     0.000     0.000     0.000       31   Kernel#puts
  0.18      0.000     0.000     0.000     0.000       68   Kernel#respond_to?
  0.16      0.002     0.000     0.000     0.002        6  *Kernel#require
  0.16      0.000     0.000     0.000     0.000        3   <Module::Gem>#find_unresolved_default_spec
  0.14      0.000     0.000     0.000     0.000       31   IO#puts
  0.12      0.000     0.000     0.000     0.000       90  *CompSci::Tree#df_search
  0.12      0.000     0.000     0.000     0.000       41   Module#method_added
  0.11      0.000     0.000     0.000     0.000        6   CompSci::Node#inspect
  0.10      0.000     0.000     0.000     0.000        3   Module#attr_accessor
  0.10      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_enter
  0.07      0.000     0.000     0.000     0.000       22   Kernel#nil?
  0.07      0.000     0.000     0.000     0.000        3   Module#attr_reader
  0.06      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_exit
  0.05      0.000     0.000     0.000     0.000        3   CompSci::PushTree#initialize
  0.04      0.000     0.000     0.000     0.000        6   Module#to_s
  0.04      0.000     0.000     0.000     0.000        6   BasicObject#singleton_method_added
  0.04      0.000     0.000     0.000     0.000        3   Kernel#dup
  0.04      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_check_owner
  0.03      0.000     0.000     0.000     0.000        3   CompSci::NaryTree#initialize
  0.03      0.000     0.000     0.000     0.000       11   Class#inherited
  0.02      0.000     0.000     0.000     0.000        1   <Object::Object>#include
  0.02      0.000     0.000     0.000     0.000        3   <Class::Gem::Specification>#unresolved_deps
  0.02      0.000     0.000     0.000     0.000        6   Kernel#object_id
  0.02      0.000     0.000     0.000     0.000        3   Kernel#initialize_dup
  0.02      0.000     0.000     0.000     0.000        3   <Module::Gem>#suffixes
  0.01      0.000     0.000     0.000     0.000        3   Array#initialize_copy
  0.01      0.000     0.000     0.000     0.000        1   Module#append_features
  0.01      0.000     0.000     0.000     0.000        9   <Class::Thread>#current
  0.01      0.000     0.000     0.000     0.000        3   Thread::Mutex#lock
  0.01      0.000     0.000     0.000     0.000        1   Module#included
  0.01      0.000     0.000     0.000     0.000        1   Module#alias_method
  0.01      0.000     0.000     0.000     0.000        3   Thread::Mutex#unlock

* indicates recursively called methods
RUBYLIB=lib ruby-prof --exclude-common-cycles examples/tree_push.rb -- 
#
# 30 inserts, puts, df_search
#

[35, 86, 35, 16, 14, 59, 10, 25, 82, 86, 74, 94, 55, 97, 3, 14, 60, 48, 70, 87, 72, 47, 6, 93, 97, 19, 46, 8, 28, 64]
                                       35                                       
                   86                                      35                   
         16                  14                  59                  10         
    25        82        86        74        94        55        97         3    
  14   60   48   70   87   72   47   6    93   97   19   46   8    28   64   _  
#<CompSci::PushTree:0x00557968c188b0 @root=#<CompSci::ChildFlexNode:0x2abcb460c7a0i @value=35 @children=[86, 35]>, @child_slots=2, @open_parent=#<CompSci::ChildFlexNode:0x2abcb45f3d40i @value=3 @children=[64]>>

visited 35
visited 86
visited 16
visited 25
visited 14
visited 60
visited 82
visited 48
visited 70
visited 14
visited 86
visited 87
visited 72
visited 74
visited 47
visited 6
visited 35
visited 59
visited 94
visited 93
visited 97
visited 55
visited 19
visited 46
visited 10
visited 97
visited 8
visited 28
visited 3
visited 64

push: [34, 96, 66, 2, 7, 46, 5, 14, 40, 91, 92, 83, 77, 19, 4, 72, 98, 9, 24, 49, 65, 8, 52, 1, 25, 89, 3, 26, 67, 53]
                                       35                                       
                   86                                      35                   
         16                  14                  59                  10         
    25        82        86        74        94        55        97         3    
  14   60   48   70   87   72   47   6    93   97   19   46   8    28   64   34 
96 66 2 7 46 5 14 40 91 92 83 77 19 4 72 98 9 24 49 65 8 52 1 25 89 3 26 67 53 _ _ _ 

#
# 5 seconds worth of pushes
#

100th push: 0.00004208 s
200th push: 0.00001436 s
300th push: 0.00003000 s
400th push: 0.00001496 s
500th push: 0.00001526 s
600th push: 0.00001567 s
700th push: 0.00001477 s
800th push: 0.00001502 s
900th push: 0.00001535 s
1000th push: 0.00001523 s
-----------
    1k push: 0.3135 s (3189 push / s)

1100th push: 0.00001517 s
1200th push: 0.00001674 s
1300th push: 0.00001611 s
1400th push: 0.00001607 s
1500th push: 0.00001634 s
1600th push: 0.00001689 s
1700th push: 0.00001651 s
1800th push: 0.00001684 s
1900th push: 0.00001769 s
2000th push: 0.00001765 s
-----------
    1k push: 0.9516 s (1050 push / s)

2100th push: 0.00002449 s
2200th push: 0.00001810 s
2300th push: 0.00001807 s
2400th push: 0.00002129 s
2500th push: 0.00003762 s
2600th push: 0.00001923 s
2700th push: 0.00001899 s
2800th push: 0.00001974 s
2900th push: 0.00003915 s
3000th push: 0.00001910 s
-----------
    1k push: 1.7217 s (580 push / s)

3100th push: 0.00002057 s
3200th push: 0.00001918 s
3300th push: 0.00002077 s
3400th push: 0.00001945 s
3500th push: 0.00001931 s
3600th push: 0.00002003 s
3700th push: 0.00002240 s
3800th push: 0.00001794 s
pushed 3823 items in 5.0 s

Measure Mode: wall_time
Thread ID: 46989967268880
Fiber ID: 46989968862420
Total: 5.012684
Sort by: self_time

 %self      total      self      wait     child     calls  name
 32.89      4.901     1.649     0.000     3.252      971   CompSci::Tree#bf_search
 23.26      1.166     1.166     0.000     0.000   914253   Array#+
 16.34      1.252     0.819     0.000     0.433   922890   CompSci::PushTree#open_parent?
  7.93      0.397     0.397     0.000     0.000   915192   Array#shift
  4.48      0.224     0.224     0.000     0.000   915193   Array#empty?
  4.46      0.223     0.223     0.000     0.000   915237   BasicObject#!
  4.45      0.223     0.223     0.000     0.000   922901   Array#length
  4.19      0.210     0.210     0.000     0.000   922890   Integer#<
  0.24      5.007     0.012     0.000     4.995        1   Kernel#loop
  0.17      4.931     0.008     0.000     4.923     3882   CompSci::PushTree#open_parent
  0.17      0.021     0.008     0.000     0.012     3980   Class#new
  0.13      0.012     0.006     0.000     0.006     3884   CompSci::ChildNode#initialize
  0.12      0.011     0.006     0.000     0.005     1940   Enumerable#find
  0.12      0.011     0.006     0.000     0.005     3882   CompSci::ChildFlexNode#add_child
  0.10      0.038     0.005     0.000     0.033     3882   CompSci::ChildFlexNode#new_child
  0.09      0.006     0.004     0.000     0.001     3884   CompSci::Node#initialize
  0.09      0.012     0.004     0.000     0.008     3865   <Module::CompSci::Timer>#since
  0.09      4.974     0.004     0.000     4.970     3882   CompSci::PushTree#push
  0.07      0.006     0.003     0.000     0.003     3908   <Module::CompSci::Timer>#now
  0.07      0.003     0.003     0.000     0.000     3884   Kernel#rand
  0.06      0.017     0.003     0.000     0.014     1940   CompSci::PushTree#open_sibling
  0.06      0.003     0.003     0.000     0.000     3908   <Module::Process>#clock_gettime
  0.05      0.002     0.002     0.000     0.000     3823   Float#>
  0.05      0.003     0.002     0.000     0.001     3882   BasicObject#!=
  0.04      0.002     0.002     0.000     0.000     3891   Array#<<
  0.03      0.002     0.002     0.000     0.000     3865   Float#-
  0.03      0.001     0.001     0.000     0.000     1940   CompSci::ChildNode#siblings
  0.03      0.001     0.001     0.000     0.000     3895   Kernel#class
  0.03      0.001     0.001     0.000     0.000     4011   Integer#+
  0.03      0.001     0.001     0.000     0.000     3861   Integer#%
  0.02      0.001     0.001     0.000     0.000     3884   Kernel#is_a?
  0.02      0.001     0.001     0.000     0.000     3861   Integer#==
  0.02      0.001     0.001     0.000     0.000     1945   Kernel#respond_to?
  0.02      0.001     0.001     0.000     0.000     3882   BasicObject#==
  0.01      0.001     0.001     0.000     0.000       44   String#%
  0.01      0.001     0.000     0.000     0.000       11   <Class::CompSci::NaryTree>#display_level
  0.00      0.000     0.000     0.000     0.000      165   IO#write
  0.00      0.001     0.000     0.000     0.001        2   CompSci::NaryTree#display
  0.00      0.000     0.000     0.000     0.000       94   Array#initialize
  0.00      0.001     0.000     0.000     0.001       38   <Module::CompSci::Timer>#elapsed
  0.00      0.001     0.000     0.000     0.001       87   IO#puts
  0.00      5.013     0.000     0.000     5.013        2   Global#[No method]
  0.00      0.000     0.000     0.000     0.000      125   CompSci::Node#to_s
  0.00      0.002     0.000     0.000     0.001       87   Kernel#puts
  0.00      0.000     0.000     0.000     0.000       94   String#ljust
  0.00      0.000     0.000     0.000     0.000       11   Array#any?
  0.00      0.000     0.000     0.000     0.000        8   IO#set_encoding
  0.00      0.000     0.000     0.000     0.000      187   Integer#to_s
  0.00      0.000     0.000     0.000     0.000      188   String#size
  0.00      0.000     0.000     0.000     0.000       94   String#rjust
  0.00      0.000     0.000     0.000     0.000        2   Kernel#p
  0.00      0.000     0.000     0.000     0.000      176   Array#[]
  0.00      0.000     0.000     0.000     0.000      105   Array#max
  0.00      0.000     0.000     0.000     0.000       15   Array#join
  0.00      0.000     0.000     0.000     0.000      105   Integer#/
  0.00      0.000     0.000     0.000     0.000        2   Array#inspect
  0.00      0.000     0.000     0.000     0.000       96   NilClass#nil?
  0.00      0.000     0.000     0.000     0.000        3   <Module::Gem>#find_unresolved_default_spec
  0.00      0.000     0.000     0.000     0.000       41   Module#method_added
  0.00      0.002     0.000     0.000     0.002        6  *Kernel#require
  0.00      0.000     0.000     0.000     0.000        1   Kernel#inspect
  0.00      0.000     0.000     0.000     0.000        3   Module#attr_accessor
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_enter
  0.00      0.000     0.000     0.000     0.000        3   Module#attr_reader
  0.00      0.000     0.000     0.000     0.000       30  *CompSci::Tree#df_search
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_exit
  0.00      0.000     0.000     0.000     0.000        9   <Class::Thread>#current
  0.00      0.000     0.000     0.000     0.000        6   BasicObject#singleton_method_added
  0.00      0.000     0.000     0.000     0.000        1   <Object::Object>#include
  0.00      0.000     0.000     0.000     0.000       11   Class#inherited
  0.00      0.000     0.000     0.000     0.000        3   Float#/
  0.00      0.000     0.000     0.000     0.000        2   CompSci::PushTree#initialize
  0.00      0.000     0.000     0.000     0.000        3   <Class::Gem::Specification>#unresolved_deps
  0.00      0.000     0.000     0.000     0.000        3   <Module::Gem>#suffixes
  0.00      0.000     0.000     0.000     0.000        3   Thread::Mutex#lock
  0.00      0.000     0.000     0.000     0.000        3   Integer#to_f
  0.00      0.000     0.000     0.000     0.000        2   Module#to_s
  0.00      0.000     0.000     0.000     0.000        2   CompSci::Node#inspect
  0.00      0.000     0.000     0.000     0.000        2   CompSci::NaryTree#initialize
  0.00      0.000     0.000     0.000     0.000        3   Thread::Mutex#unlock
  0.00      0.000     0.000     0.000     0.000        9   Kernel#nil?
  0.00      0.000     0.000     0.000     0.000        1   Module#alias_method
  0.00      0.000     0.000     0.000     0.000        1   Module#append_features
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_check_owner
  0.00      0.000     0.000     0.000     0.000        2   Kernel#object_id
  0.00      0.000     0.000     0.000     0.000        1   Module#included

* indicates recursively called methods
