RUBYLIB=lib ruby-prof --exclude-common-cycles examples/complete_tree.rb -- 
/proc/loadavg 0.64 0.25 0.11 1/80 1552
#
# Print CompleteBinary-, Ternary-, and QuaternaryTree
#

[87, 80, 28, 68, 25, 7, 76, 43, 66, 24, 68, 32, 49, 2, 97, 42, 60, 83, 5, 10, 33, 7, 76, 71, 41, 57, 31, 97, 90, 31]
#<CompSci::CompleteBinaryTree:0x0055b87ec03e88 @array=[87, 80, 28, 68, 25, 7, 76, 43, 66, 24, 68, 32, 49, 2, 97, 42, 60, 83, 5, 10, 33, 7, 76, 71, 41, 57, 31, 97, 90, 31], @child_slots=2>
                                       87                                       
                   80                                      28                   
         68                  25                   7                  76         
    43        66        24        68        32        49         2        97    
  42   60   83   5    10   33   7    76   71   41   57   31   97   90   31 



push: [62, 50, 74, 39, 1, 95, 7, 59, 49, 1, 34, 53, 78, 12, 30, 34, 51, 20, 12, 62, 56, 90, 48, 35, 56, 80, 8, 5, 49, 16]
                                       87                                       
                   80                                      28                   
         68                  25                   7                  76         
    43        66        24        68        32        49         2        97    
  42   60   83   5    10   33   7    76   71   41   57   31   97   90   31   62 
50 74 39 1 95 7 59 49 1 34 53 78 12 30 34 51 20 12 62 56 90 48 35 56 80 8 5 49 16 



[87, 80, 28, 68, 25, 7, 76, 43, 66, 24, 68, 32, 49, 2, 97, 42, 60, 83, 5, 10, 33, 7, 76, 71, 41, 57, 31, 97, 90, 31]
#<CompSci::CompleteTernaryTree:0x0055b87ebd1be0 @array=[87, 80, 28, 68, 25, 7, 76, 43, 66, 24, 68, 32, 49, 2, 97, 42, 60, 83, 5, 10, 33, 7, 76, 71, 41, 57, 31, 97, 90, 31], @child_slots=3>
                                       87                                       
            80                        28                        68            
   25       7      76      43      66      24      68      32      49   
2 97 42 60 83 5 10 33 7 76 71 41 57 31 97 90 31 



push: [22, 77, 25, 40, 51, 13, 69, 64, 84, 71, 78, 3, 27, 13, 60, 44, 19, 35, 61, 83, 53, 90, 29, 52, 37, 36, 49, 3, 98, 68]
                                       87                                       
            80                        28                        68            
   25       7      76      43      66      24      68      32      49   
2 97 42 60 83 5 10 33 7 76 71 41 57 31 97 90 31 22 77 25 40 51 13 69 64 84 71 
78 3 27 13 60 44 19 35 61 83 53 90 29 52 37 36 49 3 98 68 



[87, 80, 28, 68, 25, 7, 76, 43, 66, 24, 68, 32, 49, 2, 97, 42, 60, 83, 5, 10, 33, 7, 76, 71, 41, 57, 31, 97, 90, 31]
#<CompSci::CompleteQuaternaryTree:0x0055b87eb3a0b0 @array=[87, 80, 28, 68, 25, 7, 76, 43, 66, 24, 68, 32, 49, 2, 97, 42, 60, 83, 5, 10, 33, 7, 76, 71, 41, 57, 31, 97, 90, 31], @child_slots=4>
                                       87                                       
         80                  28                  68                  25         
  7    76   43   66   24   68   32   49   2    97   42   60   83   5    10   33 
7 76 71 41 57 31 97 90 31 



push: [61, 1, 98, 35, 72, 67, 78, 43, 67, 31, 93, 52, 44, 96, 10, 91, 89, 86, 14, 51, 64, 39, 12, 53, 0, 89, 29, 29, 74, 68]
                                       87                                       
         80                  28                  68                  25         
  7    76   43   66   24   68   32   49   2    97   42   60   83   5    10   33 
7 76 71 41 57 31 97 90 31 61 1 98 35 72 67 78 43 67 31 93 52 44 96 10 91 89 86 14 51 64 39 12 53 0 89 29 29 74 68 



Measure Mode: wall_time
Thread ID: 47125442993160
Fiber ID: 47125442943080
Total: 0.009100
Sort by: self_time

 %self      total      self      wait     child     calls  name
 16.77      0.003     0.002     0.000     0.002      270   Kernel#loop
 15.89      0.007     0.001     0.000     0.005        6   CompSci::CompleteNaryTree#display
  9.48      0.001     0.001     0.000     0.001     1077   <Class::CompSci::CompleteNaryTree>#parent_idx
  5.38      0.000     0.000     0.000     0.000     1617   Integer#/
  3.62      0.000     0.000     0.000     0.000     1347   Integer#+
  3.16      0.004     0.000     0.000     0.003      270   <Class::CompSci::CompleteNaryTree>#gen
  3.03      0.000     0.000     0.000     0.000     1077   Integer#-
  3.03      0.000     0.000     0.000     0.000      292   String#+
  2.74      0.000     0.000     0.000     0.000     1077   Integer#<
  2.65      0.000     0.000     0.000     0.000      543   Integer#to_s
  2.00      0.009     0.000     0.000     0.009        2   Global#[No method]
  1.81      0.000     0.000     0.000     0.000      270   String#ljust
  1.65      0.000     0.000     0.000     0.000      540   String#size
  1.57      0.000     0.000     0.000     0.000      270   BasicObject#!=
  1.43      0.000     0.000     0.000     0.000      270   String#rjust
  1.36      0.000     0.000     0.000     0.000      180   CompSci::CompleteNaryTree#push
  1.22      0.000     0.000     0.000     0.000        9   Array#inspect
  1.05      0.000     0.000     0.000     0.000      270   Array#max
  0.97      0.000     0.000     0.000     0.000      270   Integer#**
  0.89      0.000     0.000     0.000     0.000        6   Kernel#p
  0.81      0.000     0.000     0.000     0.000      270   Integer#==
  0.74      0.000     0.000     0.000     0.000      270   Kernel#class
  0.62      0.000     0.000     0.000     0.000        4   Array#initialize
  0.55      0.000     0.000     0.000     0.000      180   Array#push
  0.45      0.000     0.000     0.000     0.000      186   Array#empty?
  0.45      0.000     0.000     0.000     0.000      120   Kernel#rand
  0.43      0.000     0.000     0.000     0.000      180   Array#shift
  0.35      0.000     0.000     0.000     0.000       37   IO#write
  0.32      0.000     0.000     0.000     0.000        6   IO#set_encoding
  0.29      0.000     0.000     0.000     0.000        3   Kernel#inspect
  0.22      0.000     0.000     0.000     0.000       28   Kernel#puts
  0.17      0.000     0.000     0.000     0.000        2   <Module::Gem>#find_unresolved_default_spec
  0.16      0.000     0.000     0.000     0.000       28   IO#puts
  0.14      0.001     0.000     0.000     0.001        4  *Kernel#require
  0.13      0.000     0.000     0.000     0.000        7   Class#new
  0.09      0.000     0.000     0.000     0.000        2   MonitorMixin#mon_enter
  0.07      0.000     0.000     0.000     0.000        3   CompSci::CompleteNaryTree#initialize
  0.07      0.000     0.000     0.000     0.000        2   MonitorMixin#mon_exit
  0.06      0.000     0.000     0.000     0.000       13   Module#method_added
  0.06      0.000     0.000     0.000     0.000        1   Module#attr_reader
  0.05      0.000     0.000     0.000     0.000        3   Kernel#dup
  0.04      0.000     0.000     0.000     0.000        1   CompSci::CompleteQuaternaryTree#initialize
  0.04      0.000     0.000     0.000     0.000        4   Class#inherited
  0.04      0.000     0.000     0.000     0.000        6   <Class::Thread>#current
  0.04      0.000     0.000     0.000     0.000        7   BasicObject#singleton_method_added
  0.03      0.000     0.000     0.000     0.000        1   CompSci::CompleteBinaryTree#initialize
  0.03      0.000     0.000     0.000     0.000        3   Kernel#initialize_dup
  0.03      0.000     0.000     0.000     0.000        1   Module#append_features
  0.03      0.000     0.000     0.000     0.000        1   CompSci::CompleteTernaryTree#initialize
  0.03      0.000     0.000     0.000     0.000        2   MonitorMixin#mon_check_owner
  0.03      0.000     0.000     0.000     0.000        2   <Class::Gem::Specification>#unresolved_deps
  0.03      0.000     0.000     0.000     0.000        2   <Module::Gem>#suffixes
  0.02      0.000     0.000     0.000     0.000        3   Array#initialize_copy
  0.02      0.000     0.000     0.000     0.000        1   <Object::Object>#include
  0.02      0.000     0.000     0.000     0.000        2   Kernel#respond_to?
  0.02      0.000     0.000     0.000     0.000        2   Thread::Mutex#lock
  0.01      0.000     0.000     0.000     0.000        2   Thread::Mutex#unlock
  0.01      0.000     0.000     0.000     0.000        1   Module#included
  0.01      0.000     0.000     0.000     0.000        1   Module#alias_method

* indicates recursively called methods
RUBYLIB=lib ruby-prof --exclude-common-cycles examples/heap.rb -- 
#
# display the results of TernaryHeap push and pop
#

push: 11 32 43 22 92 97 68 61 58 77 50 39 50 63 95 63 28 37 16 31 58 80 92 2 78 83 3 22 86 48
array: [97, 95, 92, 50, 92, 43, 80, 78, 83, 86, 22, 39, 50, 11, 63, 63, 28, 37, 16, 31, 58, 68, 32, 2, 77, 58, 3, 22, 61, 48]
heap: true
                                       97                                       
            95                        92                        50            
   92      43      80      78      83      86      22      39      50   
11 63 63 28 37 16 31 58 68 32 2 77 58 3 22 61 48 


pop: 97
array: [95, 92, 92, 50, 63, 43, 80, 78, 83, 86, 22, 39, 50, 11, 63, 48, 28, 37, 16, 31, 58, 68, 32, 2, 77, 58, 3, 22, 61]
heap: true
                                       95                                       
            92                        92                        50            
   63      43      80      78      83      86      22      39      50   
11 63 48 28 37 16 31 58 68 32 2 77 58 3 22 61 


pop: 95 92 92 86 83 80 78 77 68
array: [63, 63, 61, 50, 48, 43, 58, 32, 58, 2, 22, 39, 50, 11, 22, 3, 28, 37, 16, 31]
heap: true
                                       63                                       
            63                        61                        50            
   48      43      58      32      58       2      22      39      50   
11 22 3 28 37 16 31 


push: 38 43 6 82 86 81 15 31 88 0 0 32 20 95 19 97 41 16 16 59 66 73 71 81 18 42 90 17 77 39
array: [97, 90, 86, 95, 81, 43, 58, 63, 81, 82, 50, 88, 59, 66, 71, 77, 39, 37, 16, 31, 38, 43, 6, 32, 61, 58, 15, 31, 2, 0, 0, 22, 20, 32, 19, 39, 41, 16, 16, 50, 11, 48, 63, 22, 18, 42, 3, 17, 73, 28]
heap: true
                                       97                                       
            90                        86                        95            
   81      43      58      63      81      82      50      88      59   
66 71 77 39 37 16 31 38 43 6 32 61 58 15 31 2 0 0 22 20 32 19 39 41 16 16 50 
11 48 63 22 18 42 3 17 73 28 

Measure Mode: wall_time
Thread ID: 47047727578120
Fiber ID: 47047727525920
Total: 0.010422
Sort by: self_time

 %self      total      self      wait     child     calls  name
  6.50      0.002     0.001     0.000     0.001      129   Kernel#loop
  6.37      0.003     0.001     0.000     0.003        4   CompSci::CompleteNaryTree#display
  5.42      0.001     0.001     0.000     0.001      345   CompSci::Heap#heapish?
  4.77      0.001     0.000     0.000     0.000      556   <Class::CompSci::CompleteNaryTree>#parent_idx
  4.10      0.000     0.000     0.000     0.000     1585   Integer#+
  4.04      0.003     0.000     0.000     0.003      170  *Array#initialize
  2.66      0.000     0.000     0.000     0.000      955   Integer#<
  2.53      0.000     0.000     0.000     0.000      814   Integer#/
  2.51      0.000     0.000     0.000     0.000      474   BasicObject#!=
  2.27      0.000     0.000     0.000     0.000      846   Integer#*
  2.16      0.000     0.000     0.000     0.000      850   Array#[]
  1.96      0.001     0.000     0.000     0.000       38   CompSci::Heap#heapiest
  1.81      0.000     0.000     0.000     0.000      616   Integer#-
  1.80      0.002     0.000     0.000     0.002      129   <Class::CompSci::CompleteNaryTree>#gen
  1.68      0.001     0.000     0.000     0.001      112  *CompSci::Heap#sift_up
  1.56      0.001     0.000     0.000     0.001       60   CompSci::Heap#push
  1.54      0.000     0.000     0.000     0.000      599   Array#length
  1.50      0.000     0.000     0.000     0.000      464   Integer#==
  1.35      0.003     0.000     0.000     0.003      171  *Class#new
  1.24      0.000     0.000     0.000     0.000      327   Integer#to_s
  1.17      0.001     0.000     0.000     0.001      167   <Class::CompSci::CompleteNaryTree>#children_idx
  1.07      0.000     0.000     0.000     0.000      142   String#+
  1.06      0.000     0.000     0.000     0.000      398   Kernel#class
  0.93      0.000     0.000     0.000     0.000      129   String#ljust
  0.89      0.010     0.000     0.000     0.010        2   Global#[No method]
  0.86      0.000     0.000     0.000     0.000      345   Integer#<=>
  0.72      0.000     0.000     0.000     0.000      258   String#size
  0.55      0.000     0.000     0.000     0.000      160   Array#[]=
  0.53      0.000     0.000     0.000     0.000      129   String#rjust
  0.52      0.000     0.000     0.000     0.000      129   Array#max
  0.48      0.001     0.000     0.000     0.001       60   Kernel#tap
  0.46      0.000     0.000     0.000     0.000        4   Array#inspect
  0.43      0.000     0.000     0.000     0.000        3   Array#join
  0.42      0.001     0.000     0.000     0.001       38  *CompSci::Heap#sift_down
  0.40      0.000     0.000     0.000     0.000      125   Array#<<
  0.40      0.000     0.000     0.000     0.000      140   BasicObject#!
  0.39      0.000     0.000     0.000     0.000      129   Integer#**
  0.37      0.002     0.000     0.000     0.002      129  *CompSci::Heap#heap?
  0.33      0.000     0.000     0.000     0.000      112   Integer#<=
  0.32      0.003     0.000     0.000     0.003       24   IO#puts
  0.31      0.000     0.000     0.000     0.000        8   IO#set_encoding
  0.28      0.000     0.000     0.000     0.000       40   IO#write
  0.27      0.000     0.000     0.000     0.000       60   Array#push
  0.27      0.000     0.000     0.000     0.000       60   Kernel#rand
  0.24      0.000     0.000     0.000     0.000       38   Array#first
  0.21      0.001     0.000     0.000     0.001       10   CompSci::Heap#pop
  0.20      0.000     0.000     0.000     0.000        3   <Module::Gem>#find_unresolved_default_spec
  0.15      0.000     0.000     0.000     0.000       38   Integer#>=
  0.15      0.003     0.000     0.000     0.003       24   Kernel#puts
  0.13      0.002     0.000     0.000     0.002        6  *Kernel#require
  0.13      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_enter
  0.11      0.000     0.000     0.000     0.000        4   String#%
  0.10      0.000     0.000     0.000     0.000       22   Module#method_added
  0.06      0.000     0.000     0.000     0.000       10   Array#shift
  0.06      0.000     0.000     0.000     0.000       10   Array#unshift
  0.06      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_exit
  0.05      0.000     0.000     0.000     0.000       10   BasicObject#==
  0.05      0.000     0.000     0.000     0.000        1   Module#attr_reader
  0.05      0.000     0.000     0.000     0.000       10   Array#pop
  0.05      0.000     0.000     0.000     0.000        9   <Class::Thread>#current
  0.04      0.000     0.000     0.000     0.000        4   TrueClass#to_s
  0.04      0.000     0.000     0.000     0.000        5   Class#inherited
  0.04      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_check_owner
  0.04      0.000     0.000     0.000     0.000        3   <Class::Gem::Specification>#unresolved_deps
  0.04      0.000     0.000     0.000     0.000        1   CompSci::Heap#initialize
  0.04      0.000     0.000     0.000     0.000        7   BasicObject#singleton_method_added
  0.04      0.000     0.000     0.000     0.000        3   <Module::Gem>#suffixes
  0.03      0.000     0.000     0.000     0.000        1   Module#append_features
  0.03      0.000     0.000     0.000     0.000        3   Thread::Mutex#unlock
  0.02      0.000     0.000     0.000     0.000        1   CompSci::CompleteNaryTree#initialize
  0.02      0.000     0.000     0.000     0.000        3   Thread::Mutex#lock
  0.02      0.000     0.000     0.000     0.000        1   Module#alias_method
  0.02      0.000     0.000     0.000     0.000        3   Kernel#respond_to?
  0.01      0.000     0.000     0.000     0.000        1   <Object::Object>#include
  0.01      0.000     0.000     0.000     0.000        1   Module#included

* indicates recursively called methods
RUBYLIB=lib ruby-prof --exclude-common-cycles examples/heap_push.rb -- 
#
# 3 seconds worth of pushes
#

10000th push: 0.00003613 s
20000th push: 0.00002103 s
30000th push: 0.00002283 s
40000th push: 0.00003639 s
50000th push: 0.00001406 s
60000th push: 0.00002097 s
70000th push: 0.00002115 s
80000th push: 0.00009299 s
90000th push: 0.00001243 s
100000th push: 0.00001243 s
-------------
    100k push: 2.72037577 s (36k push / s)

110000th push: 0.00002089 s
pushed 110383 items in 3.0 s

still a heap with 110384 items? YES - 1.531 sec

Measure Mode: wall_time
Thread ID: 47423198821380
Fiber ID: 47423198769120
Total: 4.532507
Sort by: self_time

 %self      total      self      wait     child     calls  name
 10.77      1.067     0.488     0.000     0.579   362547   CompSci::Heap#heapish?
  7.07      2.089     0.320     0.000     1.768   252181  *CompSci::Heap#sift_up
  5.63      3.000     0.255     0.000     2.745        1   Kernel#loop
  5.15      0.234     0.234     0.000     0.000  1008688   Array#[]
  4.61      0.359     0.209     0.000     0.150   110384   Array#initialize
  4.38      0.319     0.198     0.000     0.120   252164   <Class::CompSci::CompleteNaryTree>#parent_idx
  3.56      0.243     0.161     0.000     0.082   362547   BasicObject#!=
  3.44      2.332     0.156     0.000     2.176   110384   CompSci::Heap#push
  3.19      0.145     0.145     0.000     0.000   583315   Integer#*
  2.68      0.122     0.122     0.000     0.000   551919   Integer#+
  2.41      0.109     0.109     0.000     0.000   472941   Integer#==
  2.04      0.239     0.092     0.000     0.147   110397   <Module::CompSci::Timer>#since
  2.03      0.092     0.092     0.000     0.000   362548   Kernel#class
  1.99      0.090     0.090     0.000     0.000   362548   Integer#-
  1.81      0.082     0.082     0.000     0.000   362547   Integer#<=>
  1.75      0.079     0.079     0.000     0.000   331153   Array#length
  1.59      0.072     0.072     0.000     0.000   283594   Array#[]=
  1.50      0.113     0.068     0.000     0.045   110412   <Module::CompSci::Timer>#now
  1.43      0.480     0.065     0.000     0.416   110384   <Class::CompSci::CompleteNaryTree>#children_idx
  1.35      0.061     0.061     0.000     0.000   252164   BasicObject#!
  1.31      0.059     0.059     0.000     0.000   252164   Integer#/
  1.27      0.058     0.058     0.000     0.000   252181   Integer#<=
  1.25      0.416     0.057     0.000     0.359   110385   Class#new
  1.21      0.055     0.055     0.000     0.000   220768   Integer#<
  1.05      0.047     0.047     0.000     0.000   110384   Kernel#rand
  1.00      0.045     0.045     0.000     0.000   110412   <Module::Process>#clock_gettime
  0.96      0.043     0.043     0.000     0.000   110383   Float#>
  0.75      0.034     0.034     0.000     0.000   110397   Float#-
  0.68      0.031     0.031     0.000     0.000   110384   Array#push
  0.64      0.029     0.029     0.000     0.000   110383   Array#<<
  0.62      0.028     0.028     0.000     0.000   110394   Integer#%
  0.00      0.000     0.000     0.000     0.000       14   String#%
  0.00      0.000     0.000     0.000     0.000       35   IO#write
  0.00      4.532     0.000     0.000     4.532        2   Global#[No method]
  0.00      1.531     0.000     0.000     1.531       12   <Module::CompSci::Timer>#elapsed
  0.00      0.000     0.000     0.000     0.000        8   IO#set_encoding
  0.00      0.000     0.000     0.000     0.000       19   IO#puts
  0.00      0.000     0.000     0.000     0.000       19   Kernel#puts
  0.00      0.000     0.000     0.000     0.000        3   <Module::Gem>#find_unresolved_default_spec
  0.00      0.000     0.000     0.000     0.000       22   Module#method_added
  0.00      0.002     0.000     0.000     0.002        6  *Kernel#require
  0.00      1.531     0.000     0.000     1.531   110384  *CompSci::Heap#heap?
  0.00      0.000     0.000     0.000     0.000        1   Module#alias_method
  0.00      0.000     0.000     0.000     0.000        9   <Class::Thread>#current
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_enter
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_exit
  0.00      0.000     0.000     0.000     0.000        7   BasicObject#singleton_method_added
  0.00      0.000     0.000     0.000     0.000        1   Module#attr_reader
  0.00      0.000     0.000     0.000     0.000        3   Thread::Mutex#lock
  0.00      0.000     0.000     0.000     0.000        1   CompSci::CompleteNaryTree#size
  0.00      0.000     0.000     0.000     0.000        3   <Module::Gem>#suffixes
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_check_owner
  0.00      0.000     0.000     0.000     0.000        1   Integer#to_f
  0.00      0.000     0.000     0.000     0.000        5   Class#inherited
  0.00      0.000     0.000     0.000     0.000        1   CompSci::Heap#initialize
  0.00      0.000     0.000     0.000     0.000        3   Thread::Mutex#unlock
  0.00      0.000     0.000     0.000     0.000        3   Kernel#respond_to?
  0.00      0.000     0.000     0.000     0.000        1   Integer#to_s
  0.00      0.000     0.000     0.000     0.000        1   CompSci::CompleteNaryTree#initialize
  0.00      0.000     0.000     0.000     0.000        1   <Object::Object>#include
  0.00      0.000     0.000     0.000     0.000        1   Module#append_features
  0.00      0.000     0.000     0.000     0.000        3   <Class::Gem::Specification>#unresolved_deps
  0.00      0.000     0.000     0.000     0.000        1   Kernel#print
  0.00      0.000     0.000     0.000     0.000        1   Float#/
  0.00      0.000     0.000     0.000     0.000        1   Module#included

* indicates recursively called methods
RUBYLIB=lib ruby-prof --exclude-common-cycles examples/tree.rb -- 
#
# Try out Binary-, Ternary-, and QuaternaryTree
#

[88, 17, 84, 74, 95, 37, 33, 47, 86, 62, 32, 96, 73, 61, 34, 32, 97, 71, 21, 14, 38, 36, 65, 14, 43, 98, 19, 30, 31, 54]
#<CompSci::BinaryTree:0x0055f6681dc338 @root=#<CompSci::ChildNode:0x2afb340ee188i @value=88 @children=[17, 84]>, @child_slots=2, @open_parent=#<CompSci::ChildNode:0x2afb340eba3ci @value=34 @children=[54]>>
                                       88                                       
                   17                                      84                   
         74                  95                  37                  33         
    47        86        62        32        96        73        61        34    
  32   97   71   21   14   38   36   65   14   43   98   19   30   31   54 

df_search visited: 88 17 74 47 32 97 86 71 21 95 62 14 38 32 36 65 84 37 96 14 43 73 98 19 33 61 30 31 34 54


push: [33, 48, 28, 23, 19, 62, 18, 84, 87, 14, 86, 27, 2, 31, 70, 84, 28, 13, 51, 0, 88, 11, 63, 44, 53, 65, 51, 92, 28, 54]

                                       88                                       
                   17                                      84                   
         74                  95                  37                  33         
    47        86        62        32        96        73        61        34    
  32   97   71   21   14   38   36   65   14   43   98   19   30   31   54   33 
48 28 23 19 62 18 84 87 14 86 27 2 31 70 84 28 13 51 0 88 11 63 44 53 65 51 92 28 54 


[88, 17, 84, 74, 95, 37, 33, 47, 86, 62, 32, 96, 73, 61, 34, 32, 97, 71, 21, 14, 38, 36, 65, 14, 43, 98, 19, 30, 31, 54]
#<CompSci::TernaryTree:0x0055f668135448 @root=#<CompSci::ChildNode:0x2afb3409b58ci @value=88 @children=[17, 84, 74]>, @child_slots=3, @open_parent=#<CompSci::ChildNode:0x2afb34097388i @value=62 @children=[31, 54]>>
                                       88                                       
            17                        84                        74            
   95      37      33      47      86      62      32      96      73   
61 34 32 97 71 21 14 38 36 65 14 43 98 19 30 31 54 

df_search visited: 88 17 95 61 34 32 37 97 71 21 33 14 38 36 84 47 65 14 43 86 98 19 30 62 31 54 74 32 96 73


push: [91, 14, 67, 90, 61, 74, 70, 54, 78, 66, 41, 49, 63, 83, 78, 9, 58, 86, 94, 72, 96, 64, 55, 4, 97, 75, 98, 1, 52, 9]

                                       88                                       
            17                        84                        74            
   95      37      33      47      86      62      32      96      73   
61 34 32 97 71 21 14 38 36 65 14 43 98 19 30 31 54 91 14 67 90 61 74 70 54 78 66 
41 49 63 83 78 9 58 86 94 72 96 64 55 4 97 75 98 1 52 9 


[88, 17, 84, 74, 95, 37, 33, 47, 86, 62, 32, 96, 73, 61, 34, 32, 97, 71, 21, 14, 38, 36, 65, 14, 43, 98, 19, 30, 31, 54]
#<CompSci::QuaternaryTree:0x0055f6680ae830 @root=#<CompSci::ChildNode:0x2afb340573f0i @value=88 @children=[17, 84, 74, 95]>, @child_slots=4, @open_parent=#<CompSci::ChildNode:0x2afb34057008i @value=47 @children=[54]>>
                                       88                                       
         17                  84                  74                  95         
  37   33   47   86   62   32   96   73   61   34   32   97   71   21   14   38 
36 65 14 43 98 19 30 31 54 

df_search visited: 88 17 37 36 65 14 43 33 98 19 30 31 47 54 86 84 62 32 96 73 74 61 34 32 97 95 71 21 14 38


push: [89, 21, 11, 83, 93, 17, 85, 24, 65, 39, 47, 83, 93, 87, 83, 51, 61, 33, 76, 94, 66, 10, 3, 55, 36, 35, 62, 75, 39, 30]

                                       88                                       
         17                  84                  74                  95         
  37   33   47   86   62   32   96   73   61   34   32   97   71   21   14   38 
36 65 14 43 98 19 30 31 54 89 21 11 83 93 17 85 24 65 39 47 83 93 87 83 51 61 33 76 94 66 10 3 55 36 35 62 75 39 30 


Measure Mode: wall_time
Thread ID: 47258397195280
Fiber ID: 47258397143020
Total: 0.011845
Sort by: self_time

 %self      total      self      wait     child     calls  name
 21.37      0.006     0.003     0.000     0.004       32   CompSci::Tree#bf_search
  4.85      0.001     0.001     0.000     0.000      671   CompSci::NaryTree#open_parent?
  2.63      0.000     0.000     0.000     0.000      593   Array#+
  2.57      0.000     0.000     0.000     0.000      292   String#+
  2.49      0.000     0.000     0.000     0.000     1100   Integer#+
  2.35      0.000     0.000     0.000     0.000      379   CompSci::Node#to_s
  2.27      0.003     0.000     0.000     0.002      177   CompSci::NaryTree#open_parent
  2.22      0.000     0.000     0.000     0.000      799   Array#shift
  2.14      0.000     0.000     0.000     0.000      270   String#ljust
  2.02      0.001     0.000     0.000     0.000      177   CompSci::ChildNode#add_child
  1.75      0.000     0.000     0.000     0.000      562   Integer#to_s
  1.71      0.000     0.000     0.000     0.000      808   Array#empty?
  1.63      0.000     0.000     0.000     0.000      357   BasicObject#!=
  1.60      0.012     0.000     0.000     0.012        2   Global#[No method]
  1.57      0.001     0.000     0.000     0.001      177   CompSci::Node#new_child
  1.57      0.000     0.000     0.000     0.000      625   BasicObject#!
  1.50      0.000     0.000     0.000     0.000      180   CompSci::ChildNode#initialize
  1.48      0.001     0.000     0.000     0.000      650  *CompSci::ChildNode#gen
  1.47      0.000     0.000     0.000     0.000      540   String#size
  1.32      0.000     0.000     0.000     0.000      180   CompSci::Node#initialize
  1.27      0.000     0.000     0.000     0.000      671   Array#length
  1.26      0.000     0.000     0.000     0.000      671   Integer#<
  1.21      0.004     0.000     0.000     0.004      177   CompSci::NaryTree#push
  1.12      0.000     0.000     0.000     0.000        6   Kernel#p
  1.09      0.000     0.000     0.000     0.000       62   Enumerable#find
  1.06      0.000     0.000     0.000     0.000      540   Integer#/
  0.98      0.000     0.000     0.000     0.000      270   String#rjust
  0.95      0.000     0.000     0.000     0.000      360   Integer#**
  0.92      0.000     0.000     0.000     0.000      177   CompSci::Node#add_child
  0.88      0.001     0.000     0.000     0.000      187  *Class#new
  0.75      0.000     0.000     0.000     0.000       62   CompSci::NaryTree#open_sibling
  0.71      0.000     0.000     0.000     0.000      270   Array#max
  0.68      0.000     0.000     0.000     0.000      267   Array#<<
  0.63      0.000     0.000     0.000     0.000       90   <Module::Math>#log
  0.60      0.000     0.000     0.000     0.000      245   Kernel#respond_to?
  0.55      0.000     0.000     0.000     0.000        6   Array#inspect
  0.54      0.000     0.000     0.000     0.000      270   Integer#==
  0.51      0.000     0.000     0.000     0.000        9   Array#join
  0.43      0.000     0.000     0.000     0.000      177   BasicObject#==
  0.43      0.000     0.000     0.000     0.000        4   Array#initialize
  0.36      0.000     0.000     0.000     0.000      120   Kernel#rand
  0.30      0.000     0.000     0.000     0.000      183   Kernel#class
  0.30      0.000     0.000     0.000     0.000        3   Kernel#inspect
  0.28      0.000     0.000     0.000     0.000       43   IO#write
  0.28      0.000     0.000     0.000     0.000        8   IO#set_encoding
  0.26      0.000     0.000     0.000     0.000        6   CompSci::Node#inspect
  0.26      0.000     0.000     0.000     0.000        9   String#%
  0.25      0.000     0.000     0.000     0.000       62   CompSci::ChildNode#siblings
  0.23      0.000     0.000     0.000     0.000        2   Module#attr_accessor
  0.23      0.000     0.000     0.000     0.000       90   Float#floor
  0.17      0.000     0.000     0.000     0.000        3   <Module::Gem>#find_unresolved_default_spec
  0.16      0.000     0.000     0.000     0.000       90  *CompSci::Tree#df_search
  0.15      0.000     0.000     0.000     0.000       31   IO#puts
  0.15      0.000     0.000     0.000     0.000       31   Kernel#puts
  0.12      0.000     0.000     0.000     0.000       34   Module#method_added
  0.11      0.000     0.000     0.000     0.000        3   CompSci::NaryTree#initialize
  0.10      0.002     0.000     0.000     0.002        6  *Kernel#require
  0.10      0.003     0.000     0.000     0.003        4   CompSci::NaryTree#display
  0.07      0.000     0.000     0.000     0.000        3   Module#attr_reader
  0.07      0.000     0.000     0.000     0.000       11   Integer#>
  0.07      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_enter
  0.06      0.001     0.000     0.000     0.001        2   CompSci::BinaryTree#display
  0.06      0.000     0.000     0.000     0.000        9   <Class::Thread>#current
  0.05      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_exit
  0.05      0.000     0.000     0.000     0.000        6   Module#to_s
  0.04      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_check_owner
  0.04      0.000     0.000     0.000     0.000        3   Kernel#initialize_dup
  0.03      0.000     0.000     0.000     0.000        6   Kernel#object_id
  0.03      0.000     0.000     0.000     0.000        2   Module#alias_method
  0.03      0.000     0.000     0.000     0.000        3   <Module::Gem>#suffixes
  0.03      0.000     0.000     0.000     0.000        3   Thread::Mutex#lock
  0.03      0.000     0.000     0.000     0.000        3   CompSci::Tree#initialize
  0.03      0.000     0.000     0.000     0.000        7   Class#inherited
  0.03      0.000     0.000     0.000     0.000        3   <Class::Gem::Specification>#unresolved_deps
  0.03      0.000     0.000     0.000     0.000        1   CompSci::QuaternaryTree#initialize
  0.03      0.000     0.000     0.000     0.000        1   CompSci::TernaryTree#initialize
  0.03      0.000     0.000     0.000     0.000        1   CompSci::BinaryTree#initialize
  0.03      0.000     0.000     0.000     0.000        3   Kernel#dup
  0.03      0.000     0.000     0.000     0.000        3   Thread::Mutex#unlock
  0.02      0.000     0.000     0.000     0.000        1   Module#append_features
  0.02      0.000     0.000     0.000     0.000        3   Array#initialize_copy
  0.02      0.000     0.000     0.000     0.000        1   <Object::Object>#include
  0.02      0.000     0.000     0.000     0.000        4   BasicObject#singleton_method_added
  0.01      0.000     0.000     0.000     0.000        1   Module#included

* indicates recursively called methods
RUBYLIB=lib ruby-prof --exclude-common-cycles examples/tree_push.rb -- 
#
# 3 seconds worth of pushes
#

100th push: 0.00001997 s
200th push: 0.00001461 s
300th push: 0.00001505 s
400th push: 0.00001561 s
500th push: 0.00001568 s
600th push: 0.00001546 s
700th push: 0.00001586 s
800th push: 0.00001563 s
900th push: 0.00001593 s
1000th push: 0.00005214 s
-----------
    1k push: 0.3337 s (2996 push / s)

1100th push: 0.00001618 s
1200th push: 0.00001402 s
1300th push: 0.00001626 s
1400th push: 0.00001655 s
1500th push: 0.00002010 s
1600th push: 0.00001707 s
1700th push: 0.00001767 s
1800th push: 0.00001858 s
1900th push: 0.00001750 s
2000th push: 0.00001748 s
-----------
    1k push: 1.0039 s (996 push / s)

2100th push: 0.00001788 s
2200th push: 0.00001891 s
2300th push: 0.00001845 s
2400th push: 0.00001918 s
2500th push: 0.00001924 s
2600th push: 0.00002085 s
2700th push: 0.00001888 s
2800th push: 0.00002144 s
2900th push: 0.00001953 s
pushed 2967 items in 3.0 s

#
# 30 inserts, puts, df_search
#

[87, 93, 63, 53, 78, 82, 91, 93, 25, 97, 58, 57, 14, 37, 48, 5, 89, 31, 13, 78, 49, 69, 82, 19, 40, 47, 21, 13, 73, 49]
                                       87                                       
                   93                                      63                   
         53                  78                  82                  91         
    93        25        97        58        57        14        37        48    
  5    89   31   13   78   49   69   82   19   40   47   21   13   73   49 
#<CompSci::BinaryTree:0x0055fe6f73fdc0 @root=#<CompSci::ChildNode:0x2aff37b9fecci @value=87 @children=[93, 63]>, @child_slots=2, @open_parent=#<CompSci::ChildNode:0x2aff37b9f38ci @value=48 @children=[49]>>

visited 87
visited 93
visited 53
visited 93
visited 5
visited 89
visited 25
visited 31
visited 13
visited 78
visited 97
visited 78
visited 49
visited 58
visited 69
visited 82
visited 63
visited 82
visited 57
visited 19
visited 40
visited 14
visited 47
visited 21
visited 91
visited 37
visited 13
visited 73
visited 48
visited 49

push: [54, 9, 88, 52, 34, 83, 69, 18, 63, 58, 61, 14, 94, 91, 69, 4, 41, 69, 5, 0, 93, 25, 47, 16, 96, 46, 59, 61, 67, 82]
                                       87                                       
                   93                                      63                   
         53                  78                  82                  91         
    93        25        97        58        57        14        37        48    
  5    89   31   13   78   49   69   82   19   40   47   21   13   73   49   54 
9 88 52 34 83 69 18 63 58 61 14 94 91 69 4 41 69 5 0 93 25 47 16 96 46 59 61 67 82 

Measure Mode: wall_time
Thread ID: 47275639241740
Fiber ID: 47275639188000
Total: 3.008864
Sort by: self_time

 %self      total      self      wait     child     calls  name
 35.42      2.925     1.066     0.000     1.860      759   CompSci::Tree#bf_search
 19.91      0.599     0.599     0.000     0.000   550879   Array#+
 16.58      0.761     0.499     0.000     0.263   557592   CompSci::NaryTree#open_parent?
  7.61      0.229     0.229     0.000     0.000   551696   Array#shift
  5.00      0.150     0.150     0.000     0.000   551699   Array#empty?
  4.53      0.136     0.136     0.000     0.000   557592   Array#length
  4.23      0.127     0.127     0.000     0.000   551638   BasicObject#!
  4.20      0.126     0.126     0.000     0.000   557592   Integer#<
  0.30      3.003     0.009     0.000     2.994        1   Kernel#loop
  0.23      2.948     0.007     0.000     2.941     3026   CompSci::NaryTree#open_parent
  0.20      0.012     0.006     0.000     0.006     3026   CompSci::ChildNode#add_child
  0.15      0.009     0.005     0.000     0.004     1512   Enumerable#find
  0.13      0.007     0.004     0.000     0.003     3028   CompSci::ChildNode#initialize
  0.13      0.028     0.004     0.000     0.024     3026   CompSci::Node#new_child
  0.13      0.011     0.004     0.000     0.007     3032  *Class#new
  0.11      2.979     0.003     0.000     2.975     3026   CompSci::NaryTree#push
  0.11      0.009     0.003     0.000     0.006     2999   <Module::CompSci::Timer>#since
  0.10      0.003     0.003     0.000     0.000     3028   CompSci::Node#initialize
  0.08      0.005     0.002     0.000     0.002     3032   <Module::CompSci::Timer>#now
  0.08      0.002     0.002     0.000     0.000     3028   Kernel#rand
  0.08      0.004     0.002     0.000     0.001     3026   CompSci::Node#add_child
  0.08      0.013     0.002     0.000     0.010     1512   CompSci::NaryTree#open_sibling
  0.07      0.002     0.002     0.000     0.000     3032   <Module::Process>#clock_gettime
  0.06      0.002     0.002     0.000     0.000     2967   Float#>
  0.06      0.003     0.002     0.000     0.001     3026   BasicObject#!=
  0.05      0.001     0.001     0.000     0.000     3026   Array#<<
  0.05      0.001     0.001     0.000     0.000     2996   Integer#%
  0.04      0.001     0.001     0.000     0.000     2999   Float#-
  0.04      0.001     0.001     0.000     0.000     1512   CompSci::ChildNode#siblings
  0.03      0.001     0.001     0.000     0.000     3237   Integer#+
  0.03      0.001     0.001     0.000     0.000     3028   Kernel#class
  0.03      0.001     0.001     0.000     0.000     3086   Integer#==
  0.03      0.001     0.001     0.000     0.000     3026   BasicObject#==
  0.02      0.001     0.001     0.000     0.000     1515   Kernel#respond_to?
  0.02      0.000     0.000     0.000     0.000       34   String#%
  0.00      0.000     0.000     0.000     0.000       99   String#+
  0.00      0.000     0.000     0.000     0.000      142   IO#write
  0.00      0.002     0.000     0.000     0.002       75   IO#puts
  0.00      3.009     0.000     0.000     3.009        2   Global#[No method]
  0.00      0.001     0.000     0.000     0.001       29   <Module::CompSci::Timer>#elapsed
  0.00      0.000     0.000     0.000     0.000      125   CompSci::Node#to_s
  0.00      0.000     0.000     0.000     0.000      186   Integer#to_s
  0.00      0.000     0.000     0.000     0.000       90   <Module::Math>#log
  0.00      0.002     0.000     0.000     0.002       75   Kernel#puts
  0.00      0.000     0.000     0.000     0.000       90   String#ljust
  0.00      0.000     0.000     0.000     0.000        2   Kernel#p
  0.00      0.000     0.000     0.000     0.000      180   Integer#/
  0.00      0.000     0.000     0.000     0.000      180   String#size
  0.00      0.000     0.000     0.000     0.000      180   Integer#**
  0.00      0.000     0.000     0.000     0.000        2   Array#inspect
  0.00      0.000     0.000     0.000     0.000       90   String#rjust
  0.00      0.000     0.000     0.000     0.000        8   IO#set_encoding
  0.00      0.000     0.000     0.000     0.000       90   Float#floor
  0.00      0.000     0.000     0.000     0.000        2   Array#initialize
  0.00      0.000     0.000     0.000     0.000       90   Array#max
  0.00      0.000     0.000     0.000     0.000       34   Module#method_added
  0.00      0.000     0.000     0.000     0.000        3   <Module::Gem>#find_unresolved_default_spec
  0.00      0.000     0.000     0.000     0.000        1   Kernel#inspect
  0.00      0.002     0.000     0.000     0.002        6  *Kernel#require
  0.00      0.000     0.000     0.000     0.000        2   CompSci::Node#inspect
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_enter
  0.00      0.000     0.000     0.000     0.000       30  *CompSci::Tree#df_search
  0.00      0.000     0.000     0.000     0.000        2   Module#attr_accessor
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_exit
  0.00      0.000     0.000     0.000     0.000        3   Module#attr_reader
  0.00      0.002     0.000     0.000     0.002        2   CompSci::BinaryTree#display
  0.00      0.000     0.000     0.000     0.000        2   Module#to_s
  0.00      0.000     0.000     0.000     0.000        2   Integer#to_f
  0.00      0.000     0.000     0.000     0.000        2   CompSci::BinaryTree#initialize
  0.00      0.000     0.000     0.000     0.000       11   Integer#>
  0.00      0.000     0.000     0.000     0.000        3   <Module::Gem>#suffixes
  0.00      0.000     0.000     0.000     0.000        2   CompSci::NaryTree#initialize
  0.00      0.000     0.000     0.000     0.000        9   <Class::Thread>#current
  0.00      0.000     0.000     0.000     0.000        2   Array#join
  0.00      0.000     0.000     0.000     0.000        2   CompSci::Tree#initialize
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_check_owner
  0.00      0.000     0.000     0.000     0.000        2   Float#/
  0.00      0.000     0.000     0.000     0.000        2   Module#alias_method
  0.00      0.000     0.000     0.000     0.000        4   BasicObject#singleton_method_added
  0.00      0.000     0.000     0.000     0.000        7   Class#inherited
  0.00      0.000     0.000     0.000     0.000        3   <Class::Gem::Specification>#unresolved_deps
  0.00      0.000     0.000     0.000     0.000        1   Module#append_features
  0.00      0.000     0.000     0.000     0.000        3   Thread::Mutex#unlock
  0.00      0.000     0.000     0.000     0.000        3   Thread::Mutex#lock
  0.00      0.000     0.000     0.000     0.000        2   Kernel#object_id
  0.00      0.000     0.000     0.000     0.000        1   Module#included
  0.00      0.000     0.000     0.000     0.000        1   <Object::Object>#include

* indicates recursively called methods
