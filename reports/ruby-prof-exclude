RUBYLIB=lib ruby-prof --exclude-common-cycles examples/complete_tree.rb -- 
/proc/loadavg 0.67 0.25 0.10 1/84 3077
#
# Print CompleteBinary-, Ternary-, and QuaternaryTree
#

[78, 71, 69, 85, 11, 20, 27, 48, 81, 42, 25, 48, 2, 62, 80, 13, 77, 20, 63, 28, 61, 32, 37, 56, 6, 83, 57, 20, 0, 39]
#<CompSci::CompleteBinaryTree:0x0055b49326e8a8 @array=[78, 71, 69, 85, 11, 20, 27, 48, 81, 42, 25, 48, 2, 62, 80, 13, 77, 20, 63, 28, 61, 32, 37, 56, 6, 83, 57, 20, 0, 39], @child_slots=2>
                                       78                                       
                   71                                      69                   
         85                  11                  20                  27         
    48        81        42        25        48         2        62        80    
  13   77   20   63   28   61   32   37   56   6    83   57   20   0    39 



push: [13, 52, 87, 46, 58, 46, 89, 53, 20, 28, 73, 42, 93, 90, 37, 28, 18, 75, 38, 46, 57, 91, 44, 45, 81, 66, 63, 74, 30, 70]
                                       78                                       
                   71                                      69                   
         85                  11                  20                  27         
    48        81        42        25        48         2        62        80    
  13   77   20   63   28   61   32   37   56   6    83   57   20   0    39   13 
52 87 46 58 46 89 53 20 28 73 42 93 90 37 28 18 75 38 46 57 91 44 45 81 66 63 74 30 70 



[78, 71, 69, 85, 11, 20, 27, 48, 81, 42, 25, 48, 2, 62, 80, 13, 77, 20, 63, 28, 61, 32, 37, 56, 6, 83, 57, 20, 0, 39]
#<CompSci::CompleteTernaryTree:0x0055b4932394c8 @array=[78, 71, 69, 85, 11, 20, 27, 48, 81, 42, 25, 48, 2, 62, 80, 13, 77, 20, 63, 28, 61, 32, 37, 56, 6, 83, 57, 20, 0, 39], @child_slots=3>
                                       78                                       
            71                        69                        85            
   11      20      27      48      81      42      25      48       2   
62 80 13 77 20 63 28 61 32 37 56 6 83 57 20 0 39 



push: [75, 98, 1, 8, 45, 42, 51, 16, 30, 64, 37, 18, 17, 95, 35, 86, 94, 72, 81, 32, 82, 1, 70, 90, 88, 27, 70, 8, 68, 83]
                                       78                                       
            71                        69                        85            
   11      20      27      48      81      42      25      48       2   
62 80 13 77 20 63 28 61 32 37 56 6 83 57 20 0 39 75 98 1 8 45 42 51 16 30 64 
37 18 17 95 35 86 94 72 81 32 82 1 70 90 88 27 70 8 68 83 



[78, 71, 69, 85, 11, 20, 27, 48, 81, 42, 25, 48, 2, 62, 80, 13, 77, 20, 63, 28, 61, 32, 37, 56, 6, 83, 57, 20, 0, 39]
#<CompSci::CompleteQuaternaryTree:0x0055b4931a6358 @array=[78, 71, 69, 85, 11, 20, 27, 48, 81, 42, 25, 48, 2, 62, 80, 13, 77, 20, 63, 28, 61, 32, 37, 56, 6, 83, 57, 20, 0, 39], @child_slots=4>
                                       78                                       
         71                  69                  85                  11         
  20   27   48   81   42   25   48   2    62   80   13   77   20   63   28   61 
32 37 56 6 83 57 20 0 39 



push: [68, 23, 93, 12, 19, 14, 10, 76, 2, 24, 40, 13, 90, 16, 52, 14, 3, 24, 12, 5, 25, 44, 58, 85, 29, 21, 27, 17, 17, 48]
                                       78                                       
         71                  69                  85                  11         
  20   27   48   81   42   25   48   2    62   80   13   77   20   63   28   61 
32 37 56 6 83 57 20 0 39 68 23 93 12 19 14 10 76 2 24 40 13 90 16 52 14 3 24 12 5 25 44 58 85 29 21 27 17 17 48 



Measure Mode: wall_time
Thread ID: 47117024189460
Fiber ID: 47117024137680
Total: 0.008713
Sort by: self_time

 %self      total      self      wait     child     calls  name
 16.07      0.006     0.001     0.000     0.005        6   CompSci::CompleteNaryTree#display
 15.49      0.003     0.001     0.000     0.002      270   Kernel#loop
 10.02      0.001     0.001     0.000     0.001     1077   <Class::CompSci::CompleteNaryTree>#parent_idx
  4.07      0.000     0.000     0.000     0.000     1347   Integer#+
  3.94      0.000     0.000     0.000     0.000     1617   Integer#/
  3.34      0.000     0.000     0.000     0.000      292   String#+
  3.25      0.000     0.000     0.000     0.000     1077   Integer#-
  3.15      0.000     0.000     0.000     0.000     1077   Integer#<
  2.99      0.000     0.000     0.000     0.000      270   String#ljust
  2.99      0.003     0.000     0.000     0.003      270   <Class::CompSci::CompleteNaryTree>#gen
  2.14      0.000     0.000     0.000     0.000      543   Integer#to_s
  1.82      0.009     0.000     0.000     0.009        2   Global#[No method]
  1.57      0.000     0.000     0.000     0.000      540   String#size
  1.46      0.000     0.000     0.000     0.000      270   BasicObject#!=
  1.45      0.000     0.000     0.000     0.000        9   Array#inspect
  1.38      0.000     0.000     0.000     0.000      180   CompSci::CompleteNaryTree#push
  1.13      0.000     0.000     0.000     0.000      270   String#rjust
  0.96      0.000     0.000     0.000     0.000        6   Kernel#p
  0.92      0.000     0.000     0.000     0.000      270   Integer#**
  0.88      0.000     0.000     0.000     0.000      270   Array#max
  0.82      0.000     0.000     0.000     0.000      270   Kernel#class
  0.71      0.000     0.000     0.000     0.000        4   Array#initialize
  0.69      0.000     0.000     0.000     0.000      180   Array#push
  0.68      0.000     0.000     0.000     0.000      270   Integer#==
  0.62      0.000     0.000     0.000     0.000      180   Array#shift
  0.51      0.000     0.000     0.000     0.000      186   Array#empty?
  0.45      0.000     0.000     0.000     0.000      120   Kernel#rand
  0.44      0.000     0.000     0.000     0.000       28   IO#puts
  0.33      0.000     0.000     0.000     0.000        6   IO#set_encoding
  0.33      0.000     0.000     0.000     0.000       37   IO#write
  0.26      0.000     0.000     0.000     0.000        3   Kernel#inspect
  0.24      0.000     0.000     0.000     0.000        7   Class#new
  0.17      0.000     0.000     0.000     0.000        2   <Module::Gem>#find_unresolved_default_spec
  0.15      0.000     0.000     0.000     0.000       28   Kernel#puts
  0.13      0.001     0.000     0.000     0.001        4  *Kernel#require
  0.08      0.000     0.000     0.000     0.000        2   MonitorMixin#mon_enter
  0.08      0.000     0.000     0.000     0.000       13   Module#method_added
  0.07      0.000     0.000     0.000     0.000        3   CompSci::CompleteNaryTree#initialize
  0.06      0.000     0.000     0.000     0.000        1   Module#attr_reader
  0.05      0.000     0.000     0.000     0.000        2   MonitorMixin#mon_exit
  0.05      0.000     0.000     0.000     0.000        1   CompSci::CompleteBinaryTree#initialize
  0.05      0.000     0.000     0.000     0.000        3   Kernel#dup
  0.04      0.000     0.000     0.000     0.000        6   <Class::Thread>#current
  0.04      0.000     0.000     0.000     0.000        1   CompSci::CompleteQuaternaryTree#initialize
  0.03      0.000     0.000     0.000     0.000        2   <Class::Gem::Specification>#unresolved_deps
  0.03      0.000     0.000     0.000     0.000        2   <Module::Gem>#suffixes
  0.03      0.000     0.000     0.000     0.000        2   MonitorMixin#mon_check_owner
  0.02      0.000     0.000     0.000     0.000        1   CompSci::CompleteTernaryTree#initialize
  0.02      0.000     0.000     0.000     0.000        3   Array#initialize_copy
  0.02      0.000     0.000     0.000     0.000        3   Kernel#initialize_dup
  0.02      0.000     0.000     0.000     0.000        1   Module#append_features
  0.02      0.000     0.000     0.000     0.000        1   <Object::Object>#include
  0.02      0.000     0.000     0.000     0.000        2   Thread::Mutex#unlock
  0.02      0.000     0.000     0.000     0.000        2   Thread::Mutex#lock
  0.01      0.000     0.000     0.000     0.000        1   Module#included
  0.01      0.000     0.000     0.000     0.000        1   Module#alias_method
  0.01      0.000     0.000     0.000     0.000        7   BasicObject#singleton_method_added
  0.01      0.000     0.000     0.000     0.000        4   Class#inherited
  0.01      0.000     0.000     0.000     0.000        2   Kernel#respond_to?

* indicates recursively called methods
RUBYLIB=lib ruby-prof --exclude-common-cycles examples/heap.rb -- 
#
# display the results of TernaryHeap push and pop
#

push: 77 27 3 15 42 34 65 24 19 66 63 4 4 77 81 75 79 20 94 20 28 65 15 5 24 11 0 95 94 25
array: [95, 81, 94, 63, 77, 79, 65, 24, 66, 94, 15, 4, 4, 27, 65, 75, 34, 20, 77, 20, 28, 42, 3, 5, 15, 11, 0, 19, 24, 25]
heap: true
                                       95                                       
            81                        94                        63            
   77      79      65      24      66      94      15       4       4   
27 65 75 34 20 77 20 28 42 3 5 15 11 0 19 24 25 


pop: 95
array: [94, 81, 94, 63, 77, 79, 65, 24, 66, 25, 15, 4, 4, 27, 65, 75, 34, 20, 77, 20, 28, 42, 3, 5, 15, 11, 0, 19, 24]
heap: true
                                       94                                       
            81                        94                        63            
   77      79      65      24      66      25      15       4       4   
27 65 75 34 20 77 20 28 42 3 5 15 11 0 19 24 


pop: 94 94 81 79 77 77 75 66 65
array: [65, 42, 25, 63, 27, 34, 28, 24, 24, 3, 15, 4, 4, 5, 15, 11, 0, 20, 19, 20]
heap: true
                                       65                                       
            42                        25                        63            
   27      34      28      24      24       3      15       4       4   
5 15 11 0 20 19 20 


push: 72 95 36 61 28 74 80 90 82 32 15 79 62 19 89 87 57 64 60 10 56 55 64 25 44 60 19 97 89 5
array: [97, 95, 90, 89, 89, 34, 65, 36, 80, 82, 63, 87, 64, 56, 60, 72, 5, 20, 19, 20, 28, 42, 24, 25, 28, 24, 61, 74, 3, 32, 15, 15, 62, 19, 4, 79, 57, 4, 60, 10, 5, 27, 55, 15, 25, 44, 11, 19, 64, 0]
heap: true
                                       97                                       
            95                        90                        89            
   89      34      65      36      80      82      63      87      64   
56 60 72 5 20 19 20 28 42 24 25 28 24 61 74 3 32 15 15 62 19 4 79 57 4 60 10 
5 27 55 15 25 44 11 19 64 0 

Measure Mode: wall_time
Thread ID: 47306005273620
Fiber ID: 47306005185280
Total: 0.009517
Sort by: self_time

 %self      total      self      wait     child     calls  name
  7.35      0.003     0.001     0.000     0.002        4   CompSci::CompleteNaryTree#display
  6.43      0.001     0.001     0.000     0.001      129   Kernel#loop
  5.61      0.001     0.001     0.000     0.001      358   CompSci::Heap#heapish?
  4.50      0.001     0.000     0.000     0.000      568   <Class::CompSci::CompleteNaryTree>#parent_idx
  4.42      0.003     0.000     0.000     0.003      168  *Array#initialize
  3.88      0.000     0.000     0.000     0.000     1573   Integer#+
  2.66      0.000     0.000     0.000     0.000      853   Integer#*
  2.54      0.000     0.000     0.000     0.000      949   Integer#<
  2.43      0.000     0.000     0.000     0.000      826   Integer#/
  2.35      0.000     0.000     0.000     0.000      487   BasicObject#!=
  2.04      0.000     0.000     0.000     0.000      890   Array#[]
  1.86      0.000     0.000     0.000     0.000      628   Integer#-
  1.83      0.001     0.000     0.000     0.001      121  *CompSci::Heap#sift_up
  1.72      0.000     0.000     0.000     0.000       36   CompSci::Heap#heapiest
  1.56      0.002     0.000     0.000     0.001      129   <Class::CompSci::CompleteNaryTree>#gen
  1.49      0.000     0.000     0.000     0.000      591   Array#length
  1.44      0.000     0.000     0.000     0.000      327   Integer#to_s
  1.29      0.000     0.000     0.000     0.000      142   String#+
  1.22      0.000     0.000     0.000     0.000      480   Integer#==
  1.16      0.001     0.000     0.000     0.001       60   CompSci::Heap#push
  1.14      0.001     0.000     0.000     0.001      165   <Class::CompSci::CompleteNaryTree>#children_idx
  1.06      0.000     0.000     0.000     0.000      408   Kernel#class
  0.97      0.000     0.000     0.000     0.000      358   Integer#<=>
  0.90      0.000     0.000     0.000     0.000      129   String#ljust
  0.87      0.000     0.000     0.000     0.000      258   String#size
  0.80      0.000     0.000     0.000     0.000      129   String#rjust
  0.80      0.009     0.000     0.000     0.009        2   Global#[No method]
  0.72      0.003     0.000     0.000     0.003      169  *Class#new
  0.70      0.000     0.000     0.000     0.000      129   Integer#**
  0.59      0.000     0.000     0.000     0.000      174   Array#[]=
  0.58      0.000     0.000     0.000     0.000      129   Array#max
  0.55      0.001     0.000     0.000     0.001       36  *CompSci::Heap#sift_down
  0.50      0.000     0.000     0.000     0.000      150   BasicObject#!
  0.49      0.000     0.000     0.000     0.000        3   Array#join
  0.47      0.000     0.000     0.000     0.000        4   Array#inspect
  0.46      0.002     0.000     0.000     0.002      129  *CompSci::Heap#heap?
  0.45      0.000     0.000     0.000     0.000      121   Integer#<=
  0.43      0.001     0.000     0.000     0.001       60   Kernel#tap
  0.40      0.000     0.000     0.000     0.000      125   Array#<<
  0.35      0.000     0.000     0.000     0.000       40   IO#write
  0.35      0.000     0.000     0.000     0.000        8   IO#set_encoding
  0.32      0.000     0.000     0.000     0.000       60   Kernel#rand
  0.25      0.003     0.000     0.000     0.003       24   IO#puts
  0.24      0.001     0.000     0.000     0.001       10   CompSci::Heap#pop
  0.22      0.000     0.000     0.000     0.000        3   <Module::Gem>#find_unresolved_default_spec
  0.21      0.000     0.000     0.000     0.000       60   Array#push
  0.16      0.000     0.000     0.000     0.000       36   Integer#>=
  0.16      0.003     0.000     0.000     0.003       24   Kernel#puts
  0.13      0.000     0.000     0.000     0.000        4   String#%
  0.13      0.000     0.000     0.000     0.000        7   BasicObject#singleton_method_added
  0.12      0.001     0.000     0.000     0.001        6  *Kernel#require
  0.12      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_enter
  0.09      0.000     0.000     0.000     0.000       36   Array#first
  0.08      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_exit
  0.07      0.000     0.000     0.000     0.000        9   <Class::Thread>#current
  0.07      0.000     0.000     0.000     0.000       10   Array#shift
  0.06      0.000     0.000     0.000     0.000       22   Module#method_added
  0.05      0.000     0.000     0.000     0.000        1   Module#attr_reader
  0.05      0.000     0.000     0.000     0.000       10   Array#unshift
  0.05      0.000     0.000     0.000     0.000        4   TrueClass#to_s
  0.04      0.000     0.000     0.000     0.000        3   <Module::Gem>#suffixes
  0.04      0.000     0.000     0.000     0.000        1   CompSci::Heap#initialize
  0.04      0.000     0.000     0.000     0.000        3   <Class::Gem::Specification>#unresolved_deps
  0.03      0.000     0.000     0.000     0.000        7   BasicObject#==
  0.03      0.000     0.000     0.000     0.000        1   Module#alias_method
  0.03      0.000     0.000     0.000     0.000        5   Class#inherited
  0.03      0.000     0.000     0.000     0.000        3   Thread::Mutex#unlock
  0.03      0.000     0.000     0.000     0.000        3   Thread::Mutex#lock
  0.02      0.000     0.000     0.000     0.000        1   CompSci::CompleteNaryTree#initialize
  0.02      0.000     0.000     0.000     0.000        1   <Object::Object>#include
  0.02      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_check_owner
  0.02      0.000     0.000     0.000     0.000       10   Array#pop
  0.02      0.000     0.000     0.000     0.000        1   Module#append_features
  0.02      0.000     0.000     0.000     0.000        3   Kernel#respond_to?
  0.01      0.000     0.000     0.000     0.000        1   Module#included

* indicates recursively called methods
RUBYLIB=lib ruby-prof --exclude-common-cycles examples/heap_push.rb -- 
#
# 3 seconds worth of pushes
#

10000th push: 0.00002214 s
20000th push: 0.00005876 s
30000th push: 0.00002877 s
40000th push: 0.00002973 s
50000th push: 0.00003860 s
60000th push: 0.00005856 s
70000th push: 0.00001193 s
80000th push: 0.00001861 s
90000th push: 0.00002055 s
100000th push: 0.00002126 s
-------------
    100k push: 2.68868128 s (37k push / s)

110000th push: 0.00001319 s
pushed 111587 items in 3.0 s

still a heap with 111588 items? YES - 1.507 sec

Measure Mode: wall_time
Thread ID: 46995601579020
Fiber ID: 46995601526960
Total: 4.509222
Sort by: self_time

 %self      total      self      wait     child     calls  name
 10.60      1.051     0.478     0.000     0.573   366659   CompSci::Heap#heapish?
  7.15      2.089     0.322     0.000     1.767   255085  *CompSci::Heap#sift_up
  5.62      3.000     0.254     0.000     2.747        1   Kernel#loop
  5.03      0.227     0.227     0.000     0.000  1020312   Array#[]
  4.54      0.353     0.205     0.000     0.149   111588   Array#initialize
  4.36      0.323     0.197     0.000     0.126   255072   <Class::CompSci::CompleteNaryTree>#parent_idx
  3.49      2.333     0.157     0.000     2.176   111588   CompSci::Heap#push
  3.46      0.237     0.156     0.000     0.081   366659   BasicObject#!=
  3.22      0.145     0.145     0.000     0.000   589835   Integer#*
  2.67      0.120     0.120     0.000     0.000   557939   Integer#+
  2.40      0.108     0.108     0.000     0.000   478257   Integer#==
  2.14      0.244     0.096     0.000     0.148   111601   <Module::CompSci::Timer>#since
  2.10      0.095     0.095     0.000     0.000   366660   Kernel#class
  2.06      0.093     0.093     0.000     0.000   366660   Integer#-
  1.95      0.088     0.088     0.000     0.000   366659   Integer#<=>
  1.68      0.076     0.076     0.000     0.000   334765   Array#length
  1.57      0.071     0.071     0.000     0.000   286994   Array#[]=
  1.52      0.118     0.069     0.000     0.050   111616   <Module::CompSci::Timer>#now
  1.42      0.064     0.064     0.000     0.000   255085   Integer#<=
  1.42      0.475     0.064     0.000     0.411   111588   <Class::CompSci::CompleteNaryTree>#children_idx
  1.39      0.063     0.063     0.000     0.000   255072   Integer#/
  1.31      0.059     0.059     0.000     0.000   255072   BasicObject#!
  1.28      0.411     0.058     0.000     0.353   111589   Class#new
  1.26      0.057     0.057     0.000     0.000   223176   Integer#<
  1.11      0.050     0.050     0.000     0.000   111616   <Module::Process>#clock_gettime
  1.05      0.047     0.047     0.000     0.000   111588   Kernel#rand
  0.84      0.038     0.038     0.000     0.000   111587   Float#>
  0.71      0.032     0.032     0.000     0.000   111588   Array#push
  0.65      0.029     0.029     0.000     0.000   111601   Float#-
  0.65      0.029     0.029     0.000     0.000   111598   Integer#%
  0.62      0.028     0.028     0.000     0.000   111587   Array#<<
  0.00      0.000     0.000     0.000     0.000       14   String#%
  0.00      0.000     0.000     0.000     0.000       35   IO#write
  0.00      4.509     0.000     0.000     4.509        2   Global#[No method]
  0.00      1.508     0.000     0.000     1.508       12   <Module::CompSci::Timer>#elapsed
  0.00      0.000     0.000     0.000     0.000        8   IO#set_encoding
  0.00      0.000     0.000     0.000     0.000       19   IO#puts
  0.00      0.000     0.000     0.000     0.000       19   Kernel#puts
  0.00      0.000     0.000     0.000     0.000        3   <Module::Gem>#find_unresolved_default_spec
  0.00      0.000     0.000     0.000     0.000       22   Module#method_added
  0.00      0.002     0.000     0.000     0.002        6  *Kernel#require
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_enter
  0.00      1.507     0.000     0.000     1.507   111588  *CompSci::Heap#heap?
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_exit
  0.00      0.000     0.000     0.000     0.000        1   Module#attr_reader
  0.00      0.000     0.000     0.000     0.000        3   <Module::Gem>#suffixes
  0.00      0.000     0.000     0.000     0.000        9   <Class::Thread>#current
  0.00      0.000     0.000     0.000     0.000        7   BasicObject#singleton_method_added
  0.00      0.000     0.000     0.000     0.000        1   CompSci::CompleteNaryTree#size
  0.00      0.000     0.000     0.000     0.000        1   Float#/
  0.00      0.000     0.000     0.000     0.000        1   CompSci::CompleteNaryTree#initialize
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_check_owner
  0.00      0.000     0.000     0.000     0.000        3   <Class::Gem::Specification>#unresolved_deps
  0.00      0.000     0.000     0.000     0.000        1   CompSci::Heap#initialize
  0.00      0.000     0.000     0.000     0.000        1   Module#append_features
  0.00      0.000     0.000     0.000     0.000        3   Thread::Mutex#unlock
  0.00      0.000     0.000     0.000     0.000        3   Kernel#respond_to?
  0.00      0.000     0.000     0.000     0.000        1   Kernel#print
  0.00      0.000     0.000     0.000     0.000        1   Integer#to_s
  0.00      0.000     0.000     0.000     0.000        1   Integer#to_f
  0.00      0.000     0.000     0.000     0.000        1   Module#alias_method
  0.00      0.000     0.000     0.000     0.000        5   Class#inherited
  0.00      0.000     0.000     0.000     0.000        3   Thread::Mutex#lock
  0.00      0.000     0.000     0.000     0.000        1   Module#included
  0.00      0.000     0.000     0.000     0.000        1   <Object::Object>#include

* indicates recursively called methods
RUBYLIB=lib ruby-prof --exclude-common-cycles examples/tree.rb -- 
#
# Try out Binary-, Ternary-, and QuaternaryTree
#

[2, 8, 50, 4, 45, 18, 46, 36, 96, 59, 15, 58, 41, 49, 14, 68, 11, 78, 11, 8, 82, 19, 57, 37, 72, 20, 87, 91, 45, 85]
#<CompSci::BinaryTree:0x0055e21a5da190 @root=#<CompSci::ChildFlexNode:0x2af10d2ed0b4i @value=2 @children=[8, 50]>, @child_slots=2, @open_parent=#<CompSci::ChildFlexNode:0x2af10d2ec880i @value=14 @children=[85]>>
                                        2                                       
                    8                                      50                   
          4                  45                  18                  46         
    36        96        59        15        58        41        49        14    
  68   11   78   11   8    82   19   57   37   72   20   87   91   45   85 

df_search visited: 2 8 4 36 68 11 96 78 11 45 59 8 82 15 19 57 50 18 58 37 72 41 20 87 46 49 91 45 14 85


push: [25, 61, 58, 68, 46, 76, 81, 57, 3, 78, 82, 28, 89, 5, 40, 11, 65, 74, 8, 56, 83, 48, 83, 8, 24, 66, 28, 87, 29, 46]

                                        2                                       
                    8                                      50                   
          4                  45                  18                  46         
    36        96        59        15        58        41        49        14    
  68   11   78   11   8    82   19   57   37   72   20   87   91   45   85   25 
61 58 68 46 76 81 57 3 78 82 28 89 5 40 11 65 74 8 56 83 48 83 8 24 66 28 87 29 46 


[2, 8, 50, 4, 45, 18, 46, 36, 96, 59, 15, 58, 41, 49, 14, 68, 11, 78, 11, 8, 82, 19, 57, 37, 72, 20, 87, 91, 45, 85]
#<CompSci::TernaryTree:0x0055e21a54d470 @root=#<CompSci::ChildFlexNode:0x2af10d2a6a24i @value=2 @children=[8, 50, 4]>, @child_slots=3, @open_parent=#<CompSci::ChildFlexNode:0x2af10d2a6484i @value=59 @children=[45, 85]>>
                                        2                                       
             8                        50                         4            
   45      18      46      36      96      59      15      58      41   
49 14 68 11 78 11 8 82 19 57 37 72 20 87 91 45 85 

df_search visited: 2 8 45 49 14 68 18 11 78 11 46 8 82 19 50 36 57 37 72 96 20 87 91 59 45 85 4 15 58 41


push: [12, 59, 64, 20, 24, 83, 32, 59, 81, 12, 49, 7, 77, 38, 67, 9, 51, 69, 30, 87, 34, 39, 11, 76, 45, 15, 98, 2, 73, 58]

                                        2                                       
             8                        50                         4            
   45      18      46      36      96      59      15      58      41   
49 14 68 11 78 11 8 82 19 57 37 72 20 87 91 45 85 12 59 64 20 24 83 32 59 81 12 
49 7 77 38 67 9 51 69 30 87 34 39 11 76 45 15 98 2 73 58 


[2, 8, 50, 4, 45, 18, 46, 36, 96, 59, 15, 58, 41, 49, 14, 68, 11, 78, 11, 8, 82, 19, 57, 37, 72, 20, 87, 91, 45, 85]
#<CompSci::QuaternaryTree:0x0055e21a4bf170 @root=#<CompSci::ChildFlexNode:0x2af10d25f8a4i @value=2 @children=[8, 50, 4, 45]>, @child_slots=4, @open_parent=#<CompSci::ChildFlexNode:0x2af10d25f480i @value=36 @children=[85]>>
                                        2                                       
          8                  50                   4                  45         
  18   46   36   96   59   15   58   41   49   14   68   11   78   11   8    82 
19 57 37 72 20 87 91 45 85 

df_search visited: 2 8 18 19 57 37 72 46 20 87 91 45 36 85 96 50 59 15 58 41 4 49 14 68 11 45 78 11 8 82


push: [16, 17, 12, 8, 72, 62, 40, 68, 65, 2, 9, 71, 85, 78, 14, 45, 30, 32, 45, 93, 56, 2, 32, 10, 54, 77, 63, 19, 80, 29]

                                        2                                       
          8                  50                   4                  45         
  18   46   36   96   59   15   58   41   49   14   68   11   78   11   8    82 
19 57 37 72 20 87 91 45 85 16 17 12 8 72 62 40 68 65 2 9 71 85 78 14 45 30 32 45 93 56 2 32 10 54 77 63 19 80 29 


Measure Mode: wall_time
Thread ID: 47214795389960
Fiber ID: 47214795337280
Total: 0.012122
Sort by: self_time

 %self      total      self      wait     child     calls  name
 21.31      0.006     0.003     0.000     0.004       32   CompSci::Tree#bf_search
  4.58      0.001     0.001     0.000     0.000      671   CompSci::NaryTree#open_parent?
  3.04      0.000     0.000     0.000     0.000      593   Array#+
  2.20      0.000     0.000     0.000     0.000     1100   Integer#+
  2.20      0.000     0.000     0.000     0.000      292   String#+
  2.12      0.000     0.000     0.000     0.000      799   Array#shift
  2.08      0.000     0.000     0.000     0.000      180   CompSci::ChildNode#initialize
  1.98      0.000     0.000     0.000     0.000      562   Integer#to_s
  1.90      0.000     0.000     0.000     0.000      177   CompSci::ChildFlexNode#add_child
  1.86      0.000     0.000     0.000     0.000      379   CompSci::Node#to_s
  1.86      0.003     0.000     0.000     0.002      177   CompSci::NaryTree#open_parent
  1.70      0.001     0.000     0.000     0.001      187  *Class#new
  1.66      0.000     0.000     0.000     0.000      808   Array#empty?
  1.62      0.012     0.000     0.000     0.012        2   Global#[No method]
  1.49      0.000     0.000     0.000     0.000      625   BasicObject#!
  1.46      0.001     0.000     0.000     0.001      177   CompSci::ChildFlexNode#new_child
  1.43      0.000     0.000     0.000     0.000      270   String#ljust
  1.43      0.000     0.000     0.000     0.000      671   Array#length
  1.43      0.000     0.000     0.000     0.000      180   CompSci::Node#initialize
  1.40      0.004     0.000     0.000     0.004      177   CompSci::NaryTree#push
  1.33      0.000     0.000     0.000     0.000      540   String#size
  1.31      0.000     0.000     0.000     0.000      357   BasicObject#!=
  1.30      0.000     0.000     0.000     0.000      270   String#rjust
  1.26      0.000     0.000     0.000     0.000       62   Enumerable#find
  1.24      0.000     0.000     0.000     0.000      540   Integer#/
  1.20      0.000     0.000     0.000     0.000      671   Integer#<
  1.14      0.001     0.000     0.000     0.000       62   CompSci::NaryTree#open_sibling
  1.12      0.001     0.000     0.000     0.000      650  *CompSci::ChildNode#gen
  0.96      0.000     0.000     0.000     0.000      360   Integer#**
  0.86      0.000     0.000     0.000     0.000      270   Array#max
  0.83      0.000     0.000     0.000     0.000        6   Kernel#p
  0.73      0.000     0.000     0.000     0.000      267   Array#<<
  0.71      0.000     0.000     0.000     0.000       90   <Module::Math>#log
  0.69      0.000     0.000     0.000     0.000      245   Kernel#respond_to?
  0.61      0.000     0.000     0.000     0.000        6   Array#inspect
  0.58      0.000     0.000     0.000     0.000      270   Integer#==
  0.53      0.000     0.000     0.000     0.000        9   Array#join
  0.44      0.000     0.000     0.000     0.000      183   Kernel#class
  0.44      0.000     0.000     0.000     0.000        4   Array#initialize
  0.40      0.000     0.000     0.000     0.000      180   Kernel#is_a?
  0.30      0.000     0.000     0.000     0.000      120   Kernel#rand
  0.30      0.000     0.000     0.000     0.000      177   BasicObject#==
  0.30      0.000     0.000     0.000     0.000        3   Kernel#inspect
  0.28      0.000     0.000     0.000     0.000        9   String#%
  0.26      0.000     0.000     0.000     0.000        8   IO#set_encoding
  0.24      0.000     0.000     0.000     0.000       62   CompSci::ChildNode#siblings
  0.23      0.000     0.000     0.000     0.000       43   IO#write
  0.20      0.000     0.000     0.000     0.000       90   Float#floor
  0.18      0.000     0.000     0.000     0.000        6   CompSci::Node#inspect
  0.17      0.002     0.000     0.000     0.002        6  *Kernel#require
  0.17      0.000     0.000     0.000     0.000       31   IO#puts
  0.16      0.000     0.000     0.000     0.000       31   Kernel#puts
  0.16      0.000     0.000     0.000     0.000        3   <Module::Gem>#find_unresolved_default_spec
  0.09      0.000     0.000     0.000     0.000        3   Module#attr_reader
  0.09      0.000     0.000     0.000     0.000       90  *CompSci::Tree#df_search
  0.09      0.000     0.000     0.000     0.000       38   Module#method_added
  0.08      0.004     0.000     0.000     0.004        4   CompSci::NaryTree#display
  0.07      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_enter
  0.07      0.000     0.000     0.000     0.000        2   Module#attr_accessor
  0.05      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_exit
  0.04      0.000     0.000     0.000     0.000        6   Module#to_s
  0.04      0.000     0.000     0.000     0.000        3   CompSci::NaryTree#initialize
  0.04      0.001     0.000     0.000     0.001        2   CompSci::BinaryTree#display
  0.04      0.000     0.000     0.000     0.000        3   CompSci::Tree#initialize
  0.04      0.000     0.000     0.000     0.000        3   Kernel#dup
  0.03      0.000     0.000     0.000     0.000        3   <Module::Gem>#suffixes
  0.03      0.000     0.000     0.000     0.000        9   <Class::Thread>#current
  0.03      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_check_owner
  0.03      0.000     0.000     0.000     0.000        1   CompSci::TernaryTree#initialize
  0.03      0.000     0.000     0.000     0.000        1   CompSci::BinaryTree#initialize
  0.03      0.000     0.000     0.000     0.000        1   Module#append_features
  0.02      0.000     0.000     0.000     0.000        1   CompSci::QuaternaryTree#initialize
  0.02      0.000     0.000     0.000     0.000        3   Kernel#initialize_dup
  0.02      0.000     0.000     0.000     0.000        5   BasicObject#singleton_method_added
  0.02      0.000     0.000     0.000     0.000        9   Class#inherited
  0.02      0.000     0.000     0.000     0.000        3   <Class::Gem::Specification>#unresolved_deps
  0.02      0.000     0.000     0.000     0.000        3   Thread::Mutex#lock
  0.02      0.000     0.000     0.000     0.000       11   Integer#>
  0.02      0.000     0.000     0.000     0.000        2   Module#alias_method
  0.02      0.000     0.000     0.000     0.000        3   Array#initialize_copy
  0.02      0.000     0.000     0.000     0.000        1   <Object::Object>#include
  0.02      0.000     0.000     0.000     0.000        3   Thread::Mutex#unlock
  0.01      0.000     0.000     0.000     0.000        6   Kernel#object_id
  0.01      0.000     0.000     0.000     0.000        1   Module#included

* indicates recursively called methods
RUBYLIB=lib ruby-prof --exclude-common-cycles examples/tree_push.rb -- 
#
# 3 seconds worth of pushes
#

100th push: 0.00002075 s
200th push: 0.00001511 s
300th push: 0.00001618 s
400th push: 0.00001566 s
500th push: 0.00001537 s
600th push: 0.00001564 s
700th push: 0.00001598 s
800th push: 0.00001602 s
900th push: 0.00004789 s
1000th push: 0.00001630 s
-----------
    1k push: 0.3350 s (2984 push / s)

1100th push: 0.00001626 s
1200th push: 0.00001651 s
1300th push: 0.00001874 s
1400th push: 0.00001612 s
1500th push: 0.00001711 s
1600th push: 0.00001805 s
1700th push: 0.00003165 s
1800th push: 0.00006389 s
1900th push: 0.00001816 s
2000th push: 0.00001816 s
-----------
    1k push: 1.0246 s (976 push / s)

2100th push: 0.00001884 s
2200th push: 0.00001959 s
2300th push: 0.00004555 s
2400th push: 0.00001983 s
2500th push: 0.00002134 s
2600th push: 0.00001937 s
2700th push: 0.00002041 s
2800th push: 0.00002022 s
2900th push: 0.00002069 s
pushed 2923 items in 3.0 s

#
# 30 inserts, puts, df_search
#

[75, 50, 4, 22, 49, 26, 55, 78, 66, 1, 94, 78, 37, 52, 47, 0, 1, 46, 46, 21, 76, 97, 10, 72, 13, 7, 46, 70, 32, 20]
                                       75                                       
                   50                                       4                   
         22                  49                  26                  55         
    78        66         1        94        78        37        52        47    
  0    1    46   46   21   76   97   10   72   13   7    46   70   32   20 
#<CompSci::BinaryTree:0x005618943c67e0 @root=#<CompSci::ChildFlexNode:0x2b0c4a1e33dci @value=75 @children=[50, 4]>, @child_slots=2, @open_parent=#<CompSci::ChildFlexNode:0x2b0c4a1e2310i @value=47 @children=[20]>>

visited 75
visited 50
visited 22
visited 78
visited 0
visited 1
visited 66
visited 46
visited 46
visited 49
visited 1
visited 21
visited 76
visited 94
visited 97
visited 10
visited 4
visited 26
visited 78
visited 72
visited 13
visited 37
visited 7
visited 46
visited 55
visited 52
visited 70
visited 32
visited 47
visited 20

push: [92, 18, 25, 79, 44, 55, 11, 75, 81, 1, 85, 25, 57, 59, 58, 0, 53, 72, 72, 22, 91, 29, 17, 92, 56, 90, 64, 20, 83, 67]
                                       75                                       
                   50                                       4                   
         22                  49                  26                  55         
    78        66         1        94        78        37        52        47    
  0    1    46   46   21   76   97   10   72   13   7    46   70   32   20   92 
18 25 79 44 55 11 75 81 1 85 25 57 59 58 0 53 72 72 22 91 29 17 92 56 90 64 20 83 67 

Measure Mode: wall_time
Thread ID: 47331781655560
Fiber ID: 47331781605480
Total: 3.010091
Sort by: self_time

 %self      total      self      wait     child     calls  name
 35.40      2.925     1.066     0.000     1.860      748   CompSci::Tree#bf_search
 19.50      0.587     0.587     0.000     0.000   534676   Array#+
 16.98      0.786     0.511     0.000     0.274   541290   CompSci::NaryTree#open_parent?
  7.62      0.229     0.229     0.000     0.000   535482   Array#shift
  4.68      0.141     0.141     0.000     0.000   541290   Array#length
  4.53      0.136     0.136     0.000     0.000   535485   Array#empty?
  4.43      0.133     0.133     0.000     0.000   541290   Integer#<
  4.32      0.130     0.130     0.000     0.000   535424   BasicObject#!
  0.30      3.004     0.009     0.000     2.995        1   Kernel#loop
  0.22      2.948     0.007     0.000     2.942     2982   CompSci::NaryTree#open_parent
  0.17      0.015     0.005     0.000     0.010     2988  *Class#new
  0.16      0.010     0.005     0.000     0.005     2984   CompSci::ChildNode#initialize
  0.16      0.009     0.005     0.000     0.004     2982   CompSci::ChildFlexNode#add_child
  0.16      0.009     0.005     0.000     0.005     1490   Enumerable#find
  0.13      0.028     0.004     0.000     0.024     2982   CompSci::ChildFlexNode#new_child
  0.12      0.009     0.004     0.000     0.006     2955   <Module::CompSci::Timer>#since
  0.12      0.005     0.004     0.000     0.001     2984   CompSci::Node#initialize
  0.11      2.980     0.003     0.000     2.977     2982   CompSci::NaryTree#push
  0.08      0.013     0.002     0.000     0.011     1490   CompSci::NaryTree#open_sibling
  0.08      0.004     0.002     0.000     0.002     2988   <Module::CompSci::Timer>#now
  0.07      0.002     0.002     0.000     0.000     2984   Kernel#rand
  0.07      0.002     0.002     0.000     0.000     2988   <Module::Process>#clock_gettime
  0.06      0.003     0.002     0.000     0.001     2982   BasicObject#!=
  0.06      0.002     0.002     0.000     0.000     2923   Float#>
  0.05      0.001     0.001     0.000     0.000     2982   Array#<<
  0.04      0.001     0.001     0.000     0.000     2955   Float#-
  0.04      0.001     0.001     0.000     0.000     3193   Integer#+
  0.03      0.001     0.001     0.000     0.000     2984   Kernel#is_a?
  0.03      0.001     0.001     0.000     0.000     2952   Integer#%
  0.03      0.001     0.001     0.000     0.000     1490   CompSci::ChildNode#siblings
  0.03      0.001     0.001     0.000     0.000     2984   Kernel#class
  0.03      0.001     0.001     0.000     0.000     2982   BasicObject#==
  0.03      0.001     0.001     0.000     0.000     3042   Integer#==
  0.03      0.001     0.001     0.000     0.000     1493   Kernel#respond_to?
  0.02      0.001     0.001     0.000     0.000       34   String#%
  0.01      0.000     0.000     0.000     0.000      142   IO#write
  0.00      0.001     0.000     0.000     0.001       29   <Module::CompSci::Timer>#elapsed
  0.00      0.000     0.000     0.000     0.000      186   Integer#to_s
  0.00      0.000     0.000     0.000     0.000      125   CompSci::Node#to_s
  0.00      3.010     0.000     0.000     3.010        2   Global#[No method]
  0.00      0.000     0.000     0.000     0.000       99   String#+
  0.00      0.002     0.000     0.000     0.002       75   IO#puts
  0.00      0.000     0.000     0.000     0.000       90   <Module::Math>#log
  0.00      0.000     0.000     0.000     0.000        2   Array#inspect
  0.00      0.000     0.000     0.000     0.000       90   String#rjust
  0.00      0.000     0.000     0.000     0.000       90   String#ljust
  0.00      0.000     0.000     0.000     0.000      180   Integer#**
  0.00      0.000     0.000     0.000     0.000        2   Kernel#p
  0.00      0.002     0.000     0.000     0.002       75   Kernel#puts
  0.00      0.000     0.000     0.000     0.000        2   CompSci::Node#inspect
  0.00      0.000     0.000     0.000     0.000      180   String#size
  0.00      0.000     0.000     0.000     0.000      180   Integer#/
  0.00      0.000     0.000     0.000     0.000       90   Array#max
  0.00      0.000     0.000     0.000     0.000       90   Float#floor
  0.00      0.000     0.000     0.000     0.000        2   Array#initialize
  0.00      0.000     0.000     0.000     0.000        8   IO#set_encoding
  0.00      0.000     0.000     0.000     0.000        1   Kernel#inspect
  0.00      0.000     0.000     0.000     0.000        3   <Module::Gem>#find_unresolved_default_spec
  0.00      0.002     0.000     0.000     0.002        6  *Kernel#require
  0.00      0.000     0.000     0.000     0.000       38   Module#method_added
  0.00      0.000     0.000     0.000     0.000       30  *CompSci::Tree#df_search
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_enter
  0.00      0.000     0.000     0.000     0.000        3   Module#attr_reader
  0.00      0.000     0.000     0.000     0.000        2   Module#attr_accessor
  0.00      0.000     0.000     0.000     0.000        2   Module#to_s
  0.00      0.002     0.000     0.000     0.002        2   CompSci::BinaryTree#display
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_exit
  0.00      0.000     0.000     0.000     0.000        2   Integer#to_f
  0.00      0.000     0.000     0.000     0.000        2   CompSci::Tree#initialize
  0.00      0.000     0.000     0.000     0.000        2   Array#join
  0.00      0.000     0.000     0.000     0.000        9   Class#inherited
  0.00      0.000     0.000     0.000     0.000        2   CompSci::NaryTree#initialize
  0.00      0.000     0.000     0.000     0.000        3   <Module::Gem>#suffixes
  0.00      0.000     0.000     0.000     0.000        3   MonitorMixin#mon_check_owner
  0.00      0.000     0.000     0.000     0.000        3   <Class::Gem::Specification>#unresolved_deps
  0.00      0.000     0.000     0.000     0.000        2   Float#/
  0.00      0.000     0.000     0.000     0.000        2   CompSci::BinaryTree#initialize
  0.00      0.000     0.000     0.000     0.000        2   Module#alias_method
  0.00      0.000     0.000     0.000     0.000        3   Thread::Mutex#lock
  0.00      0.000     0.000     0.000     0.000        9   <Class::Thread>#current
  0.00      0.000     0.000     0.000     0.000        1   <Object::Object>#include
  0.00      0.000     0.000     0.000     0.000        5   BasicObject#singleton_method_added
  0.00      0.000     0.000     0.000     0.000        2   Kernel#object_id
  0.00      0.000     0.000     0.000     0.000       11   Integer#>
  0.00      0.000     0.000     0.000     0.000        1   Module#append_features
  0.00      0.000     0.000     0.000     0.000        1   Module#included
  0.00      0.000     0.000     0.000     0.000        3   Thread::Mutex#unlock

* indicates recursively called methods
